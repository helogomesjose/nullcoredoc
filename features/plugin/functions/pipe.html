html<html class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-features/plugin/functions/pipe" data-has-hydrated="false" dir="ltr" lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="Docusaurus v3.5.2" name="generator"/>
<title data-rh="true">üö∞ Fun√ß√£o do tubo | Nullcore</title><meta content="width=device-width,initial-scale=1" data-rh="true" name="viewport"/><meta content="summary_large_image" data-rh="true" name="twitter:card"/><meta content="https://openwebui.com/features/plugin/functions/pipe" data-rh="true" property="og:url"/><meta content="en" data-rh="true" property="og:locale"/><meta content="en" data-rh="true" name="docusaurus_locale"/><meta content="en" data-rh="true" name="docsearch:language"/><meta content="current" data-rh="true" name="docusaurus_version"/><meta content="docs-default-current" data-rh="true" name="docusaurus_tag"/><meta content="current" data-rh="true" name="docsearch:version"/><meta content="docs-default-current" data-rh="true" name="docsearch:docusaurus_tag"/><meta content="üö∞ Pipe Function | Open WebUI" data-rh="true" property="og:title"/><meta content="Welcome to this guide on creating Pipes in Open WebUI! Think of Pipes as a way to adding a new model to Open WebUI. In this document, we'll break down what a Pipe is, how it works, and how you can create your own to add custom logic and processing to your Open WebUI models. We'll use clear metaphors and go through every detail to ensure you have a comprehensive understanding." data-rh="true" name="description"/><meta content="Welcome to this guide on creating Pipes in Open WebUI! Think of Pipes as a way to adding a new model to Open WebUI. In this document, we'll break down what a Pipe is, how it works, and how you can create your own to add custom logic and processing to your Open WebUI models. We'll use clear metaphors and go through every detail to ensure you have a comprehensive understanding." data-rh="true" property="og:description"/><link data-rh="true" href="../../../images/favicon.png" rel="icon"/><link data-rh="true" href="https://openwebui.com/features/plugin/functions/pipe" rel="canonical"/><link data-rh="true" href="https://openwebui.com/features/plugin/functions/pipe" hreflang="en" rel="alternate"/><link data-rh="true" href="https://openwebui.com/features/plugin/functions/pipe" hreflang="x-default" rel="alternate"/><link href="../../../blog/rss.xml" rel="alternate" title="Open WebUI RSS Feed" type="application/rss+xml"/>
<link href="../../../blog/atom.xml" rel="alternate" title="Open WebUI Atom Feed" type="application/atom+xml"/>
<link href="https://www.google-analytics.com" rel="preconnect"/>
<link href="https://www.googletagmanager.com" rel="preconnect"/>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-522JSJVWTB"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-522JSJVWTB",{})</script><link href="../../../assets/css/styles.5b18f379.css" rel="stylesheet"/>
<script defer="defer" src="../../../assets/js/runtime~main.217be6ef.js"></script>
<script defer="defer" src="../../../assets/js/main.36f40a9e.js"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div aria-label="Skip to main content" role="region"><a class="skipToContent_fXgn" href="pipe.html#__docusaurus_skipToContent_fallback">Pule para o conte√∫do principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="flex w-full flex-col"><div><div class="navbar__inner"><div class="navbar__items"><button aria-expanded="false" aria-label="Toggle navigation bar" class="navbar__toggle clean-btn" type="button"><svg aria-hidden="true" height="30" viewbox="0 0 30 30" width="30"><path d="M4 7h22M4 15h22M4 23h22" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"></path></svg></button><a class="navbar__brand" href="../../../index.html"><div class="navbar__logo"><img alt="" class="themedComponent_mlkZ themedComponent--light_NVdE" src="../../../images/logo.png"/><img alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU" src="../../../images/logo-dark.png"/></div><b class="navbar__title text--truncate">Nullcore</b></a></div><div class="navbar__items navbar__items--right"><a aria-label="GitHub repository" class="navbar__item navbar__link header-github-link" href="https://github.com/open-webui/open-webui" rel="noopener noreferrer" target="_blank"></a><a aria-label="Discord server" class="navbar__item navbar__link header-discord-link" href="https://discord.com/invite/5rJgQTnV4s" rel="noopener noreferrer" target="_blank"></a><div class="toggle_vylO colorModeToggle_DEke"><button aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" disabled="" title="Switch between dark and light mode (currently light mode)" type="button"><svg class="lightToggleIcon_pyhR" height="24" viewbox="0 0 24 24" width="24"><path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z" fill="currentColor"></path></svg><svg class="darkToggleIcon_wfgR" height="24" viewbox="0 0 24 24" width="24"><path d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z" fill="currentColor"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" class="search-icon" role="button" tabindex="0"></span><input aria-label="Search" class="navbar__search-input search-bar" disabled="" id="search_input_react" placeholder="Loading..." type="search"/></div></div></div></div></div><div class="mt-3 min-[996px]:hidden"><div class="w-full"><div class="flex w-full flex-col justify-center"><a class="flex w-full items-center justify-center" href="https://tailscale.com/blog/self-host-a-local-ai-stack/?utm_source=OpenWebUI&amp;utm_medium=paid-ad-placement&amp;utm_campaign=OpenWebUI-Docs" target="_blank"><img alt="Tailscale" class="w-full rounded-xl object-cover h-10" loading="lazy" src="../../../sponsors/banners/tailscale-banner.png"/></a><div class="mt-1 line-clamp-1 text-right text-xs font-semibold text-gray-600 dark:text-gray-300">Conecte a IA auto-hospedada a qualquer dispositivo com escala traseira</div></div></div></div></div><div class="navbar-sidebar__backdrop" role="presentation"></div></nav><div class="main-wrapper mainWrapper_z2l0" id="__docusaurus_skipToContent_fallback"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="flex h-full flex-col overflow-auto"><div class="h-fit"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../index.html">üè° Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../getting-started.html">üöÄ Introdu√ß√£o</a><button aria-expanded="false" aria-label="Expand sidebar category 'üöÄ Getting Started'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="../../../features.html">‚≠ê Recursos</a><button aria-expanded="true" aria-label="Collapse sidebar category '‚≠ê Features'" class="clean-btn menu__caret" type="button"></button></div><ul class="menu__list" style="display:block;overflow:visible;height:auto"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="../index.html" tabindex="0">üõ†Ô∏è Ferramentas e fun√ß√µes</a><button aria-expanded="true" aria-label="Collapse sidebar category 'üõ†Ô∏è Tools &amp; Functions'" class="clean-btn menu__caret" type="button"></button></div><ul class="menu__list" style="display:block;overflow:visible;height:auto"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="index.html" tabindex="0">üß∞ Fun√ß√µes</a><button aria-expanded="true" aria-label="Collapse sidebar category 'üß∞ Functions'" class="clean-btn menu__caret" type="button"></button></div><ul class="menu__list" style="display:block;overflow:visible;height:auto"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="pipe.html" tabindex="0">üö∞ Fun√ß√£o do tubo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" href="filter.html" tabindex="0">ü™Ñ Fun√ß√£o do filtro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" href="action.html" tabindex="0">üé¨ Fun√ß√£o de a√ß√£o</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../tools.html" tabindex="0">Ferramentas</a><button aria-expanded="false" aria-label="Expand sidebar category '‚öôÔ∏è Tools'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="../events/index.html" tabindex="0">‚õëÔ∏è Eventos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="../valves/index.html" tabindex="0">üîÑ V√°lvulas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="../migration/index.html" tabindex="0">üöö Ferramentas e fun√ß√µes de migra√ß√£o: 0,4 a 0,5</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../workspace/index.html" tabindex="0">üñ•Ô∏è Espa√ßo de trabalho</a><button aria-expanded="false" aria-label="Expand sidebar category 'üñ•Ô∏è Workspace'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../chat-features/index.html" tabindex="0">üí¨ Recursos de bate -papo</a><button aria-expanded="false" aria-label="Expand sidebar category 'üí¨ Chat Features'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../code-execution/index.html" tabindex="0">üêç Execu√ß√£o de c√≥digo</a><button aria-expanded="false" aria-label="Expand sidebar category 'üêç Code Execution'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../document-extraction/index.html" tabindex="0">üìÑ Extra√ß√£o de documentos</a><button aria-expanded="false" aria-label="Expand sidebar category 'üìÑ Document Extraction'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../evaluation/index.html" tabindex="0">üìù Avalia√ß√£o</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../openldap.html" tabindex="0">Integra√ß√£o do OpenlDAP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../rag.html" tabindex="0">üîé Genera√ß√£o aumentada de recupera√ß√£o (RAG)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../banners.html" tabindex="0">üî∞ Banners personaliz√°veis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../webhooks.html" tabindex="0">ü™ù Integra√ß√µes da WebHook</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../sso.html" tabindex="0">üîí SSO: Suporte de autentica√ß√£o federado</a><button aria-expanded="false" aria-label="Expand sidebar category 'üîí SSO: Federated Authentication Support'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../scim.html" tabindex="0">üîê SCIM 2.0: Provisionamento automatizado de usu√°rio</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../troubleshooting.html">üõ†Ô∏è Solu√ß√£o de problemas</a><button aria-expanded="false" aria-label="Expand sidebar category 'üõ†Ô∏è Troubleshooting'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../category/-tutorials.html">üìù Tutoriais</a><button aria-expanded="false" aria-label="Expand sidebar category 'üìù Tutorials'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../openapi-servers/index.html">üî® Servidores de ferramentas OpenApi</a><button aria-expanded="false" aria-label="Expand sidebar category 'üî® OpenAPI Tool Servers'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../pipelines/index.html">‚ö° oleodutos</a><button aria-expanded="false" aria-label="Expand sidebar category '‚ö° Pipelines'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../faq.html">üìã FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../roadmap.html">Roteiro Roteiro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../security.html">üîí Pol√≠tica de seguran√ßa</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../contributing.html">ü§ù Contribuindo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../sponsorships.html">üåê Patroc√≠nio</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../license.html">‚öñÔ∏è Licen√ßa aberta da webui</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../enterprise.html">üè¢ Nullcore para empresas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../mission.html">üéØ Nossa miss√£o</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../team.html">üë• Nossa equipe</a></li></ul></nav></div></div><div class="mt-3 px-5"><div class="pb-4"><div class="mb-2"><div class="mb-1 text-xs font-medium text-gray-600 underline dark:text-gray-300">Patrocinado por<!-- -->Nullcore</div><a href="https://forms.gle/92mvG3ESYj47zzRL9" target="_blank"><img alt="Open WebUI" class="block h-12 w-full rounded-xl object-cover" loading="lazy" src="../../../sponsors/banners/placeholder-mobile.png"/></a><div class="mt-1 line-clamp-2 text-right text-xs font-medium text-gray-600 dark:text-gray-300">O ponto de banner superior √© reservado para patrocinadores Emerald+ Enterprise</div></div></div></div></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav aria-label="Breadcrumbs" class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../../index.html"><svg class="breadcrumbHomeIcon_YNFT" viewbox="0 0 24 24"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a class="breadcrumbs__link" href="../../../features.html" itemprop="item"><span itemprop="name">‚≠ê Recursos</span></a><meta content="1" itemprop="position"/></li><li class="breadcrumbs__item" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a class="breadcrumbs__link" href="../index.html" itemprop="item"><span itemprop="name">üõ†Ô∏è Ferramentas e fun√ß√µes</span></a><meta content="2" itemprop="position"/></li><li class="breadcrumbs__item" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a class="breadcrumbs__link" href="index.html" itemprop="item"><span itemprop="name">üß∞ Fun√ß√µes</span></a><meta content="3" itemprop="position"/></li><li class="breadcrumbs__item breadcrumbs__item--active" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><span class="breadcrumbs__link" itemprop="name">üö∞ Fun√ß√£o do tubo</span><meta content="4" itemprop="position"/></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button class="clean-btn tocCollapsibleButton_TO0P" type="button">Nesta p√°gina</button></div><div class="theme-doc-markdown markdown"><header><h1>üö∞ Fun√ß√£o do tubo: Crie "agentes/modelos" personalizados</h1></header>
<p>Bem -vindo a este guia sobre a cria√ß√£o<strong>Tubos</strong>em webui aberto! Pense nos tubos como uma maneira de<strong>adicionando</strong>Um novo modelo para abrir Webui. Neste documento, quebraremos o que √© um tubo, como ele funciona e como voc√™ pode criar o seu para adicionar l√≥gica e processamento personalizados aos seus modelos abertos do WebUI. Usaremos met√°foras claras e passaremos por todos os detalhes para garantir que voc√™ tenha um entendimento abrangente.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-pipes">Introdu√ß√£o aos tubos<a aria-label="Direct link to Introduction to Pipes" class="hash-link" href="pipe.html#introduction-to-pipes" title="Direct link to Introduction to Pipes"></a></h2>
<p>Imagine o Open Webui como um<strong>sistema de encanamento</strong>onde os dados fluem atrav√©s de tubos e v√°lvulas. Nesta analogia:</p>
<ul>
<li><strong>Tubos</strong>s√£o como<strong>plugins</strong>Isso permite introduzir novos caminhos para o fluxo de dados, permitindo injetar l√≥gica e processamento personalizados.</li>
<li><strong>V√°lvulas</strong>s√£o os<strong>partes configur√°veis</strong>do seu tubo que controlam como os dados fluem atrav√©s dele.</li>
</ul>
<p>Ao criar um tubo, voc√™ est√° criando essencialmente um modelo personalizado com o comportamento espec√≠fico desejado, tudo dentro da estrutura aberta do WebUi.</p>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="understanding-the-pipe-structure">Compreendendo a estrutura do tubo<a aria-label="Direct link to Understanding the Pipe Structure" class="hash-link" href="pipe.html#understanding-the-pipe-structure" title="Direct link to Understanding the Pipe Structure"></a></h2>
<p>Vamos come√ßar com uma vers√£o b√°sica e barebones de um tubo para entender sua estrutura:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">de</span><span class="token plain">Pydantic</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">Campo</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">V√°lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">Model_id</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">padr√£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">v√°lvulas</span><span class="token operator" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">V√°lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># L√≥gica vai aqui</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">imprimir</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">v√°lvulas</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Isso imprimir√° as op√ß√µes de configura√ß√£o e o corpo de entrada</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Ol√°, mundo!"</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-pipe-class">A classe de tubo<a aria-label="Direct link to The Pipe Class" class="hash-link" href="pipe.html#the-pipe-class" title="Direct link to The Pipe Class"></a></h3>
<ul>
<li><strong>Defini√ß√£o</strong>: O<code>Pipe</code>A classe √© onde voc√™ define sua l√≥gica personalizada.</li>
<li><strong>Prop√≥sito</strong>: Atua como o plano para o seu plug -in, determinando como ele se comporta no Webui aberto.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="valves-configuring-your-pipe">V√°lvulas: configurando seu cachimbo<a aria-label="Direct link to Valves: Configuring Your Pipe" class="hash-link" href="pipe.html#valves-configuring-your-pipe" title="Direct link to Valves: Configuring Your Pipe"></a></h3>
<ul>
<li><strong>Defini√ß√£o</strong><code>Valves</code>√© uma classe aninhada dentro<code>Pipe</code>, herdando de<code>BaseModel</code></li>
<li><strong>Prop√≥sito</strong>: Ele cont√©m as op√ß√µes de configura√ß√£o (par√¢metros) que persistem no uso do seu tubo.</li>
<li><strong>Exemplo</strong>: No c√≥digo acima,<code>MODEL_ID</code>√© uma op√ß√£o de configura√ß√£o com uma sequ√™ncia vazia padr√£o.</li>
</ul>
<p><strong>Met√°fora</strong>: Pense nas v√°lvulas como os bot√µes em um sistema de tubos do mundo real que controlam o fluxo de √°gua. No seu tubo, as v√°lvulas permitem que os usu√°rios ajustem as configura√ß√µes que influenciam como os dados fluem e s√£o processados.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-__init__-method">O<code>__init__</code>M√©todo<a aria-label="Direct link to the-__init__-method" class="hash-link" href="pipe.html#the-__init__-method" title="Direct link to the-__init__-method"></a></h3>
<ul>
<li><strong>Defini√ß√£o</strong>: O m√©todo construtor para o<code>Pipe</code>aula.</li>
<li><strong>Prop√≥sito</strong>: Inicializa o estado do tubo e configura os componentes necess√°rios.</li>
<li><strong>Pr√°tica recomendada</strong>: Mantenha -o simples; inicialize principalmente<code>self.valves</code>aqui.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">v√°lvulas</span><span class="token operator" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">V√°lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-pipe-function">O<code>pipe</code>Fun√ß√£o<a aria-label="Direct link to the-pipe-function" class="hash-link" href="pipe.html#the-pipe-function" title="Direct link to the-pipe-function"></a></h3>
<ul>
<li><strong>Defini√ß√£o</strong>: A fun√ß√£o principal em que sua l√≥gica personalizada reside.</li>
<li><strong>Par√¢metros</strong><!-- -->
<ul>
<li><code>body</code>: Um dicion√°rio que cont√©m os dados de entrada.</li>
</ul>
</li>
<li><strong>Prop√≥sito</strong>: Processa os dados de entrada usando sua l√≥gica personalizada e retorna o resultado.</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># L√≥gica vai aqui</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">imprimir</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">v√°lvulas</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Isso imprimir√° as op√ß√µes de configura√ß√£o e o corpo de entrada</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Ol√°, mundo!"</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<p><strong>Observa√ß√£o</strong>: Sempre coloque<code>Valves</code>no topo do seu<code>Pipe</code>classe, seguida de<code>__init__</code>, e ent√£o o<code>pipe</code>fun√ß√£o. Essa estrutura garante clareza e consist√™ncia.</p>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-multiple-models-with-pipes">Criando v√°rios modelos com tubos<a aria-label="Direct link to Creating Multiple Models with Pipes" class="hash-link" href="pipe.html#creating-multiple-models-with-pipes" title="Direct link to Creating Multiple Models with Pipes"></a></h2>
<p>E se voc√™ quiser que seu tubo crie<strong>V√°rios modelos</strong>dentro de webui aberto? Voc√™ pode conseguir isso definindo um<code>pipes</code>fun√ß√£o ou vari√°vel dentro do seu<code>Pipe</code>aula. Esta configura√ß√£o, informalmente chamada de um<strong>coletor</strong>, permite que seu tubo represente v√°rios modelos.</p>
<p>Veja como voc√™ pode fazer isso:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">de</span><span class="token plain">Pydantic</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">Campo</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">V√°lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">Model_id</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">padr√£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">v√°lvulas</span><span class="token operator" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">V√°lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tubos</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Model_id_1"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nome"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Model_1"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Model_id_2"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nome"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Model_2"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Model_id_3"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"nome"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Model_3"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># L√≥gica vai aqui</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">imprimir</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">v√°lvulas</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Imprime as op√ß√µes de configura√ß√£o e o corpo de entrada</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">modelo</span><span class="token operator" style="color:#393A34"></span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">pegar</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"modelo"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f "</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">modelo</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">: Ol√°, mundo! "</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation">Explica√ß√£o<a aria-label="Direct link to Explanation" class="hash-link" href="pipe.html#explanation" title="Direct link to Explanation"></a></h3>
<ul>
<li>
<p><strong><code>pipes</code>Fun√ß√£o</strong></p>
<ul>
<li>Retorna uma lista de dicion√°rios.</li>
<li>Cada dicion√°rio representa um modelo com exclusivo<code>id</code>e<code>name</code>chaves.</li>
<li>Esses modelos aparecer√£o individualmente no seletor de modelo Open Webui.</li>
</ul>
</li>
<li>
<p><strong>Atualizado<code>pipe</code>Fun√ß√£o</strong></p>
<ul>
<li>Processa a entrada com base no modelo selecionado.</li>
<li>Neste exemplo, inclui o nome do modelo na sequ√™ncia retornada.</li>
</ul>
</li>
</ul>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="example-openai-proxy-pipe">Exemplo: OpenAI Proxy Pipe<a aria-label="Direct link to Example: OpenAI Proxy Pipe" class="hash-link" href="pipe.html#example-openai-proxy-pipe" title="Direct link to Example: OpenAI Proxy Pipe"></a></h2>
<p>Vamos mergulhar em um exemplo pr√°tico em que criaremos um tubo que proxies solicita√ß√µes para a API OpenAI. Este tubo buscar√° modelos dispon√≠veis do OpenAI e permitir√° que os usu√°rios interajam com eles atrav√©s do Open Webui.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">de</span><span class="token plain">Pydantic</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">Campo</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">solicita√ß√µes</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">V√°lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">Name_prefix</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">padr√£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Openai/"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descri√ß√£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Prefixo a ser adicionado antes dos nomes dos modelos."</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">Openai_API_Base_URL</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">padr√£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"https://api.openai.com/v1"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descri√ß√£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"URL base para acessar os terminais da API OpenAI."</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">OpenAi_API_KEY</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">padr√£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descri√ß√£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Chave da API para autenticar solicita√ß√µes √† API OpenAI".</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">v√°lvulas</span><span class="token operator" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">V√°lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tubos</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">se</span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">v√°lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">OpenAi_API_KEY</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">tentar</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">cabe√ßalhos</span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"Autoriza√ß√£o"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f "Portador</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">auto</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">v√°lvulas</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">OpenAi_API_KEY</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"Tipo de conte√∫do"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Aplicativo/JSON"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">r</span><span class="token operator" style="color:#393A34"></span><span class="token plain">solicita√ß√µes</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">pegar</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string-interpolation string" style="color:#e3116c">f "</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">auto</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">v√°lvulas</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">Openai_API_Base_URL</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">/modelos "</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">cabe√ßalhos</span><span class="token operator" style="color:#393A34"></span><span class="token plain">cabe√ßalhos</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">modelos</span><span class="token operator" style="color:#393A34"></span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">JSON</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">modelo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">"nome"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f '</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">auto</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">v√°lvulas</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">Name_prefix</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">modelo</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">pegar</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation string" style="color:#e3116c">"nome"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">, Assim,</span><span class="token string-interpolation interpolation">modelo</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">"eu ia"</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">para</span><span class="token plain">modelo</span><span class="token keyword" style="color:#00009f">em</span><span class="token plain">modelos</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"dados"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">se</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"GPT"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">em</span><span class="token plain">modelo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">exceto</span><span class="token plain">Exce√ß√£o</span><span class="token keyword" style="color:#00009f">como</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"erro"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">"nome"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Erro a buscar modelos. Por favor, verifique sua chave da API."</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">outro</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"erro"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"nome"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Chave da API n√£o fornecida."</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">__usu√°rio__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">imprimir</span><span class="token punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">f "tubo:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">__nome__</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">cabe√ßalhos</span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"Autoriza√ß√£o"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f "Portador</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">auto</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">v√°lvulas</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">OpenAi_API_KEY</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"Tipo de conte√∫do"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Aplicativo/JSON"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Extrair ID do modelo do nome do modelo</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">model_id</span><span class="token operator" style="color:#393A34"></span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"modelo"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">[[</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"modelo"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">encontrar</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Atualize o ID do modelo no corpo</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">carga √∫til</span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34"></span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"modelo"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">model_id</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">tentar</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">r</span><span class="token operator" style="color:#393A34"></span><span class="token plain">solicita√ß√µes</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">publicar</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">url</span><span class="token operator" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">f "</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">auto</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">v√°lvulas</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation">Openai_API_Base_URL</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">/Chat/Concluir "</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">JSON</span><span class="token operator" style="color:#393A34"></span><span class="token plain">carga √∫til</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">cabe√ßalhos</span><span class="token operator" style="color:#393A34"></span><span class="token plain">cabe√ßalhos</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">fluxo</span><span class="token operator" style="color:#393A34"></span><span class="token boolean" style="color:#36acaa">Verdadeiro</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">r</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Raise_for_status</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">se</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">pegar</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"fluxo"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Falso</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">iter_lines</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">outro</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">r</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">JSON</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">exceto</span><span class="token plain">Exce√ß√£o</span><span class="token keyword" style="color:#00009f">como</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f "Erro:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c"></span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-breakdown">Quebra detalhada<a aria-label="Direct link to Detailed Breakdown" class="hash-link" href="pipe.html#detailed-breakdown" title="Direct link to Detailed Breakdown"></a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="valves-configuration">Configura√ß√£o das v√°lvulas<a aria-label="Direct link to Valves Configuration" class="hash-link" href="pipe.html#valves-configuration" title="Direct link to Valves Configuration"></a></h4>
<ul>
<li><strong><code>NAME_PREFIX</code></strong><!-- -->
<ul>
<li>Adiciona um prefixo aos nomes de modelos exibidos no webui aberto.</li>
<li>Padr√£o:<code>"OPENAI/"</code></li>
</ul>
</li>
<li><strong><code>OPENAI_API_BASE_URL</code></strong><!-- -->
<ul>
<li>Especifica o URL base da API OpenAI.</li>
<li>Padr√£o:<code>"https://api.openai.com/v1"</code></li>
</ul>
</li>
<li><strong><code>OPENAI_API_KEY</code></strong><!-- -->
<ul>
<li>Sua chave de API do OpenAI para autentica√ß√£o.</li>
<li>Padr√£o:<code>""</code>(string vazia; deve ser fornecido).</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-pipes-function">O<code>pipes</code>Fun√ß√£o<a aria-label="Direct link to the-pipes-function" class="hash-link" href="pipe.html#the-pipes-function" title="Direct link to the-pipes-function"></a></h4>
<ul>
<li>
<p><strong>Prop√≥sito</strong>: Busca modelos OpenAI dispon√≠veis e os torna acess√≠veis em webui aberto.</p>
</li>
<li>
<p><strong>Processo</strong></p>
<ol>
<li><strong>Verifique a chave da API</strong>: Garante que uma chave da API seja fornecida.</li>
<li><strong>Fetch Models</strong>: Fa√ßa uma solicita√ß√£o de obter √† API OpenAI para recuperar os modelos dispon√≠veis.</li>
<li><strong>Modelos de filtro</strong>: Retorna modelos que t√™m<code>"gpt"</code>em seus<code>id</code></li>
<li><strong>Manuseio de erros</strong>: Se houver um problema, retorne uma mensagem de erro.</li>
</ol>
</li>
<li>
<p><strong>Formato de retorno</strong>: Uma lista de dicion√°rios com<code>id</code>e<code>name</code>para cada modelo.</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-pipe-function-1">O<code>pipe</code>Fun√ß√£o<a aria-label="Direct link to the-pipe-function-1" class="hash-link" href="pipe.html#the-pipe-function-1" title="Direct link to the-pipe-function-1"></a></h4>
<ul>
<li>
<p><strong>Prop√≥sito</strong>: Lida com a solicita√ß√£o ao modelo OpenAI selecionado e retorna a resposta.</p>
</li>
<li>
<p><strong>Par√¢metros</strong></p>
<ul>
<li><code>body</code>: Cont√©m os dados da solicita√ß√£o.</li>
<li><code>__user__</code>: Cont√©m informa√ß√µes do usu√°rio (n√£o usado neste exemplo, mas pode ser √∫til para autentica√ß√£o ou log).</li>
</ul>
</li>
<li>
<p><strong>Processo</strong></p>
<ol>
<li><strong>Prepare cabe√ßalhos</strong>: Configura os cabe√ßalhos com a chave da API e o tipo de conte√∫do.</li>
<li><strong>Extrair ID do modelo</strong>: Extrai o ID do modelo real do nome do modelo selecionado.</li>
<li><strong>Prepare a carga √∫til</strong>: Atualiza o corpo com o ID do modelo correto.</li>
<li><strong>Fa√ßa solicita√ß√£o da API</strong>: Envia uma solicita√ß√£o de postagem para o endpoint de conclus√£o de bate -papo da API do OpenAI.</li>
<li><strong>Manuseie o streaming</strong>: Se<code>stream</code>√©<code>True</code>, retorna um iter√°vel das linhas.</li>
<li><strong>Manuseio de erros</strong>: Captura exce√ß√µes e retorna uma mensagem de erro.</li>
</ol>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="extending-the-proxy-pipe">Estendendo o tubo de proxy<a aria-label="Direct link to Extending the Proxy Pipe" class="hash-link" href="pipe.html#extending-the-proxy-pipe" title="Direct link to Extending the Proxy Pipe"></a></h3>
<p>Voc√™ pode modificar este tubo de proxy para suportar provedores de servi√ßos adicionais, como antropia, perplexidade e mais, ajustando os terminais da API, cabe√ßalhos e l√≥gica dentro do<code>pipes</code>e<code>pipe</code>fun√ß√µes.</p>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-internal-open-webui-functions">Usando fun√ß√µes internas de webui aberto<a aria-label="Direct link to Using Internal Open WebUI Functions" class="hash-link" href="pipe.html#using-internal-open-webui-functions" title="Direct link to Using Internal Open WebUI Functions"></a></h2>
<p>√Äs vezes, voc√™ pode querer aproveitar as fun√ß√µes internas do webui aberto dentro do seu tubo. Voc√™ pode importar essas fun√ß√µes diretamente do<code>open_webui</code>pacote. Lembre -se de que, embora improv√°vel, as fun√ß√µes internas podem mudar para fins de otimiza√ß√£o; portanto, sempre consulte a documenta√ß√£o mais recente.</p>
<p>Veja como voc√™ pode usar as fun√ß√µes internas de webui aberto:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">de</span><span class="token plain">Pydantic</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">Campo</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">de</span><span class="token plain">FASTAPI</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Solicitar</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">de</span><span class="token plain">open_webui</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">modelos</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Usu√°rios</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Usu√°rios</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">de</span><span class="token plain">open_webui</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">UTILS</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">bater papo</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">generate_chat_completion</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">passar</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">ass√≠ncrono</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">cano</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">__usu√°rio__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">__solicitar__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Solicitar</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Use o endpoint unificado com a assinatura atualizada</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">usu√°rio</span><span class="token operator" style="color:#393A34"></span><span class="token plain">Usu√°rios</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">get_user_by_id</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">__usu√°rio__</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"eu ia"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"modelo"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"LLAMA3.2: mais recente"</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">aguarde</span><span class="token plain">generate_chat_completion</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">__solicitar__</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">usu√°rio</span><span class="token punctuation" style="color:#393A34"></span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-1">Explica√ß√£o<a aria-label="Direct link to Explanation" class="hash-link" href="pipe.html#explanation-1" title="Direct link to Explanation"></a></h3>
<ul>
<li>
<p><strong>Importa√ß√µes</strong></p>
<ul>
<li><code>Users</code>de<code>open_webui.models.users</code>: Para buscar informa√ß√µes do usu√°rio.</li>
<li><code>generate_chat_completion</code>de<code>open_webui.utils.chat</code>: Para gerar conclus√µes de bate -papo usando a l√≥gica interna.</li>
</ul>
</li>
<li>
<p><strong>Ass√≠ncrono<code>pipe</code>Fun√ß√£o</strong></p>
<ul>
<li><strong>Par√¢metros</strong><!-- -->
<ul>
<li><code>body</code>: Dados de entrada para o modelo.</li>
<li><code>__user__</code>: Dicion√°rio contendo informa√ß√µes do usu√°rio.</li>
<li><code>__request__</code>: O objeto de solicita√ß√£o do FASTAPI (exigido por<code>generate_chat_completion</code></li>
</ul>
</li>
<li><strong>Processo</strong><!-- -->
<ol>
<li><strong>Buscar objeto de usu√°rio</strong>: Recupera o objeto do usu√°rio usando seu ID.</li>
<li><strong>Set Model</strong>: Especifica o modelo a ser usado.</li>
<li><strong>Gerar conclus√£o</strong>: Chamadas<code>generate_chat_completion</code>Para processar a entrada e produzir uma sa√≠da.</li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="important-notes">Notas importantes<a aria-label="Direct link to Important Notes" class="hash-link" href="pipe.html#important-notes" title="Direct link to Important Notes"></a></h3>
<ul>
<li><strong>Assinaturas de fun√ß√£o</strong>: Consulte a base de c√≥digo ou documenta√ß√£o ou documenta√ß√£o aberta do Web Open para obter as assinaturas e par√¢metros de fun√ß√£o mais precisos.</li>
<li><strong>Pr√°ticas recomendadas</strong>: Sempre lide com exce√ß√µes e erros graciosamente para garantir uma experi√™ncia suave do usu√°rio.</li>
</ul>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="frequently-asked-questions">Perguntas frequentes<a aria-label="Direct link to Frequently Asked Questions" class="hash-link" href="pipe.html#frequently-asked-questions" title="Direct link to Frequently Asked Questions"></a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q1-why-should-i-use-pipes-in-open-webui">Q1: Por que devo usar tubos em webui aberto?<a aria-label="Direct link to Q1: Why should I use Pipes in Open WebUI?" class="hash-link" href="pipe.html#q1-why-should-i-use-pipes-in-open-webui" title="Direct link to Q1: Why should I use Pipes in Open WebUI?"></a></h3>
<p><strong>UM</strong>: Os tubos permitem que voc√™ adicione um novo "modelo" com l√≥gica e processamento personalizados para abrir o WebUI. √â um sistema de plug -in flex√≠vel que permite integrar APIs externas, personalizar comportamentos de modelo e criar recursos inovadores sem alterar a base de c√≥digo principal.</p>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q2-what-are-valves-and-why-are-they-important">P2: O que s√£o v√°lvulas e por que elas s√£o importantes?<a aria-label="Direct link to Q2: What are Valves, and why are they important?" class="hash-link" href="pipe.html#q2-what-are-valves-and-why-are-they-important" title="Direct link to Q2: What are Valves, and why are they important?"></a></h3>
<p><strong>UM</strong>: As v√°lvulas s√£o os par√¢metros configur√°veis ‚Äã‚Äãdo seu tubo. Eles funcionam como configura√ß√µes ou controles que determinam como seu tubo opera. Ao ajustar as v√°lvulas, voc√™ pode alterar o comportamento do seu tubo sem modificar o c√≥digo subjacente.</p>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q3-can-i-create-a-pipe-without-valves">Q3: Posso criar um tubo sem v√°lvulas?<a aria-label="Direct link to Q3: Can I create a Pipe without Valves?" class="hash-link" href="pipe.html#q3-can-i-create-a-pipe-without-valves" title="Direct link to Q3: Can I create a Pipe without Valves?"></a></h3>
<p><strong>UM</strong>: Sim, voc√™ pode criar um tubo simples sem definir uma classe de v√°lvulas se o seu tubo n√£o exigir nenhuma op√ß√£o de configura√ß√£o persistente. No entanto, incluir v√°lvulas √© uma boa pr√°tica para flexibilidade e escalabilidade futura.</p>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q4-how-do-i-ensure-my-pipe-is-secure-when-using-api-keys">Q4: Como fa√ßo para garantir que meu tubo esteja seguro ao usar as teclas da API?<a aria-label="Direct link to Q4: How do I ensure my Pipe is secure when using API keys?" class="hash-link" href="pipe.html#q4-how-do-i-ensure-my-pipe-is-secure-when-using-api-keys" title="Direct link to Q4: How do I ensure my Pipe is secure when using API keys?"></a></h3>
<p><strong>UM</strong>: Nunca informa√ß√µes confidenciais de c√≥digo r√≠gido, como as teclas da API no seu tubo. Em vez disso, use v√°lvulas para inserir e armazenar as teclas da API com seguran√ßa. Certifique -se de que seu c√≥digo lida com essas chaves adequadamente e evite o registro ou exponha -as.</p>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q5-what-is-the-difference-between-the-pipe-and-pipes-functions">Q5: Qual √© a diferen√ßa entre o<code>pipe</code>e<code>pipes</code>fun√ß√µes?<a aria-label="Direct link to q5-what-is-the-difference-between-the-pipe-and-pipes-functions" class="hash-link" href="pipe.html#q5-what-is-the-difference-between-the-pipe-and-pipes-functions" title="Direct link to q5-what-is-the-difference-between-the-pipe-and-pipes-functions"></a></h3>
<p><strong>UM</strong></p>
<ul>
<li>
<p><strong><code>pipe</code>Fun√ß√£o</strong>: A fun√ß√£o principal em que voc√™ processa os dados de entrada e gera uma sa√≠da. Ele lida com a l√≥gica para um √∫nico modelo.</p>
</li>
<li>
<p><strong><code>pipes</code>Fun√ß√£o</strong>: Permite que seu tubo represente v√°rios modelos retornando uma lista de defini√ß√µes de modelo. Cada modelo aparecer√° individualmente em Webui aberto.</p>
</li>
</ul>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q6-how-can-i-handle-errors-in-my-pipe">Q6: Como posso lidar com erros no meu cachimbo?<a aria-label="Direct link to Q6: How can I handle errors in my Pipe?" class="hash-link" href="pipe.html#q6-how-can-i-handle-errors-in-my-pipe" title="Direct link to Q6: How can I handle errors in my Pipe?"></a></h3>
<p><strong>UM</strong>: Use blocos de tentativa de exce√ß√£o em seu<code>pipe</code>e<code>pipes</code>fun√ß√µes para capturar exce√ß√µes. Retorne mensagens de erro significativas ou lide com os erros graciosamente para garantir que o usu√°rio seja informado sobre o que deu errado.</p>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q7-can-i-use-external-libraries-in-my-pipe">Q7: Posso usar bibliotecas externas no meu tubo?<a aria-label="Direct link to Q7: Can I use external libraries in my Pipe?" class="hash-link" href="pipe.html#q7-can-i-use-external-libraries-in-my-pipe" title="Direct link to Q7: Can I use external libraries in my Pipe?"></a></h3>
<p><strong>UM</strong>: Sim, voc√™ pode importar e usar bibliotecas externas, conforme necess√°rio. Certifique -se de que quaisquer depend√™ncias sejam instaladas e gerenciadas adequadamente em seu ambiente.</p>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q8-how-do-i-test-my-pipe">Q8: Como fa√ßo para testar meu tubo?<a aria-label="Direct link to Q8: How do I test my Pipe?" class="hash-link" href="pipe.html#q8-how-do-i-test-my-pipe" title="Direct link to Q8: How do I test my Pipe?"></a></h3>
<p><strong>UM</strong>: Teste seu tubo executando o Open Webui em um ambiente de desenvolvimento e selecionando seu modelo personalizado na interface. Valide que seu tubo se comporta conforme o esperado com v√°rias entradas e configura√ß√µes.</p>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q9-are-there-any-best-practices-for-organizing-my-pipes-code">Q9: Existem pr√°ticas recomendadas para organizar o c√≥digo do meu tubo?<a aria-label="Direct link to Q9: Are there any best practices for organizing my Pipe's code?" class="hash-link" href="pipe.html#q9-are-there-any-best-practices-for-organizing-my-pipes-code" title="Direct link to Q9: Are there any best practices for organizing my Pipe's code?"></a></h3>
<p><strong>UM</strong>: Sim, siga estas diretrizes:</p>
<ul>
<li>Manter<code>Valves</code>no topo do seu<code>Pipe</code>aula.</li>
<li>Inicializar vari√°veis ‚Äã‚Äãno<code>__init__</code>m√©todo, principalmente<code>self.valves</code></li>
<li>Coloque o<code>pipe</code>fun√ß√£o ap√≥s o<code>__init__</code>m√©todo.</li>
<li>Use nomes de vari√°veis ‚Äã‚Äãclaros e descritivos.</li>
<li>Comente seu c√≥digo para clareza.</li>
</ul>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q10-where-can-i-find-the-latest-open-webui-documentation">Q10: Onde posso encontrar a mais recente documenta√ß√£o aberta da Webui?<a aria-label="Direct link to Q10: Where can I find the latest Open WebUI documentation?" class="hash-link" href="pipe.html#q10-where-can-i-find-the-latest-open-webui-documentation" title="Direct link to Q10: Where can I find the latest Open WebUI documentation?"></a></h3>
<p><strong>UM</strong>: Visite o reposit√≥rio ou site oficial do Open WebUI para obter as informa√ß√µes mais atualizadas, incluindo assinaturas de fun√ß√µes, exemplos e guias de migra√ß√£o, se ocorrerem altera√ß√µes.</p>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclus√£o<a aria-label="Direct link to Conclusion" class="hash-link" href="pipe.html#conclusion" title="Direct link to Conclusion"></a></h2>
<p>At√© agora, voc√™ deve ter um entendimento completo de como criar e usar tubos no Webui aberto. Os tubos oferecem uma maneira poderosa de estender e personalizar os recursos do Open Webui para atender √†s suas necessidades espec√≠ficas. Esteja voc√™ integrando APIs externas, adicionando novos modelos ou injetando l√≥gica complexa, os tubos fornecem a flexibilidade para que isso aconte√ßa.</p>
<p>Lembre -se de:</p>
<ul>
<li><strong>Use estrutura clara e consistente</strong>nas suas aulas de tubula√ß√£o.</li>
<li><strong>V√°lvulas de alavancagem</strong>Para op√ß√µes configur√°veis.</li>
<li><strong>Lidar com erros graciosamente</strong>para melhorar a experi√™ncia do usu√°rio.</li>
<li><strong>Consulte a √∫ltima documenta√ß√£o</strong>Para quaisquer atualiza√ß√µes ou altera√ß√µes.</li>
</ul>
<p>Codifica√ß√£o feliz e aproveite estendendo seu webui aberto com tubos!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a class="theme-edit-this-page" href="https://github.com/open-webui/docs/blob/main/docs/features/plugin/functions/pipe.mdx" rel="noopener noreferrer" target="_blank"><svg aria-hidden="true" class="iconEdit_Z9Sw" fill="currentColor" height="20" viewbox="0 0 40 40" width="20"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edite esta p√°gina</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav aria-label="Docs pages" class="pagination-nav docusaurus-mt-lg"><a class="pagination-nav__link pagination-nav__link--prev" href="index.html"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">üß∞ Fun√ß√µes</div></a><a class="pagination-nav__link pagination-nav__link--next" href="filter.html"><div class="pagination-nav__sublabel">Pr√≥ximo</div><div class="pagination-nav__label">ü™Ñ Fun√ß√£o do filtro</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="pipe.html#introduction-to-pipes">Introdu√ß√£o aos tubos</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#understanding-the-pipe-structure">Compreendendo a estrutura do tubo</a><ul><li><a class="table-of-contents__link toc-highlight" href="pipe.html#the-pipe-class">A classe de tubo</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#valves-configuring-your-pipe">V√°lvulas: configurando seu cachimbo</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#the-__init__-method">O<code>__init__</code>M√©todo</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#the-pipe-function">O<code>pipe</code>Fun√ß√£o</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#creating-multiple-models-with-pipes">Criando v√°rios modelos com tubos</a><ul><li><a class="table-of-contents__link toc-highlight" href="pipe.html#explanation">Explica√ß√£o</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#example-openai-proxy-pipe">Exemplo: OpenAI Proxy Pipe</a><ul><li><a class="table-of-contents__link toc-highlight" href="pipe.html#detailed-breakdown">Quebra detalhada</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#extending-the-proxy-pipe">Estendendo o tubo de proxy</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#using-internal-open-webui-functions">Usando fun√ß√µes internas de webui aberto</a><ul><li><a class="table-of-contents__link toc-highlight" href="pipe.html#explanation-1">Explica√ß√£o</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#important-notes">Notas importantes</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#frequently-asked-questions">Perguntas frequentes</a><ul><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q1-why-should-i-use-pipes-in-open-webui">Q1: Por que devo usar tubos em webui aberto?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q2-what-are-valves-and-why-are-they-important">P2: O que s√£o v√°lvulas e por que elas s√£o importantes?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q3-can-i-create-a-pipe-without-valves">Q3: Posso criar um tubo sem v√°lvulas?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q4-how-do-i-ensure-my-pipe-is-secure-when-using-api-keys">Q4: Como fa√ßo para garantir que meu tubo esteja seguro ao usar as teclas da API?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q5-what-is-the-difference-between-the-pipe-and-pipes-functions">Q5: Qual √© a diferen√ßa entre o<code>pipe</code>e<code>pipes</code>fun√ß√µes?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q6-how-can-i-handle-errors-in-my-pipe">Q6: Como posso lidar com erros no meu cachimbo?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q7-can-i-use-external-libraries-in-my-pipe">Q7: Posso usar bibliotecas externas no meu tubo?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q8-how-do-i-test-my-pipe">Q8: Como fa√ßo para testar meu tubo?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q9-are-there-any-best-practices-for-organizing-my-pipes-code">Q9: Existem pr√°ticas recomendadas para organizar o c√≥digo do meu tubo?</a></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#q10-where-can-i-find-the-latest-open-webui-documentation">Q10: Onde posso encontrar a mais recente documenta√ß√£o aberta da Webui?</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="pipe.html#conclusion">Conclus√£o</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentos</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="../../../getting-started.html">Come√ßando</a></li><li class="footer__item"><a class="footer__link-item" href="../../../faq.html">Perguntas frequentes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Comunidade</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://github.com/open-webui/open-webui" rel="noopener noreferrer" target="_blank">Github<svg aria-hidden="true" class="iconExternalLink_nPIU" height="13.5" viewbox="0 0 24 24" width="13.5"><path d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="https://discord.gg/5rJgQTnV4s" rel="noopener noreferrer" target="_blank">Disc√≥rdia<svg aria-hidden="true" class="iconExternalLink_nPIU" height="13.5" viewbox="0 0 24 24" width="13.5"><path d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="https://x.com/OpenWebUI" rel="noopener noreferrer" target="_blank">ùïè<svg aria-hidden="true" class="iconExternalLink_nPIU" height="13.5" viewbox="0 0 24 24" width="13.5"><path d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z" fill="currentColor"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Mais</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://github.com/open-webui/open-webui/blob/main/CHANGELOG.md" rel="noopener noreferrer" target="_blank">Notas de libera√ß√£o</a></li><li class="footer__item"><a class="footer__link-item" href="https://openwebui.com" rel="noopener noreferrer" target="_blank">Sobre</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" height="100" src="../../../images/logo-dark.png"/><img class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" height="100" src="../../../images/logo-dark.png"/></div></div></div></footer></div>
</body>
</html>