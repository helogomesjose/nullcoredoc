html<html class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-features/plugin/functions/filter" data-has-hydrated="false" dir="ltr" lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta content="Docusaurus v3.5.2" name="generator"/>
<title data-rh="true">ğŸª„ FunÃ§Ã£o do filtro | Nullcore</title><meta content="width=device-width,initial-scale=1" data-rh="true" name="viewport"/><meta content="summary_large_image" data-rh="true" name="twitter:card"/><meta content="https://doc.nullcore.com.br/features/plugin/functions/filter" data-rh="true" property="og:url"/><meta content="en" data-rh="true" property="og:locale"/><meta content="en" data-rh="true" name="docusaurus_locale"/><meta content="en" data-rh="true" name="docsearch:language"/><meta content="current" data-rh="true" name="docusaurus_version"/><meta content="docs-default-current" data-rh="true" name="docusaurus_tag"/><meta content="current" data-rh="true" name="docsearch:version"/><meta content="docs-default-current" data-rh="true" name="docsearch:docusaurus_tag"/><meta content="ğŸª„ Filter Function | Nullcore" data-rh="true" property="og:title"/><meta content="Welcome to the comprehensive guide on Filter Functions in Nullcore! Filters are a flexible and powerful plugin system for modifying data before it's sent to the Large Language Model (LLM) (input) or after itâ€™s returned from the LLM (output). Whether youâ€™re transforming inputs for better context or cleaning up outputs for improved readability, Filter Functions let you do it all." data-rh="true" name="description"/><meta content="Welcome to the comprehensive guide on Filter Functions in Nullcore! Filters are a flexible and powerful plugin system for modifying data before it's sent to the Large Language Model (LLM) (input) or after itâ€™s returned from the LLM (output). Whether youâ€™re transforming inputs for better context or cleaning up outputs for improved readability, Filter Functions let you do it all." data-rh="true" property="og:description"/><link data-rh="true" href="../../../images/favicon.png" rel="icon"/><link data-rh="true" href="https://doc.nullcore.com.br/features/plugin/functions/filter" rel="canonical"/><link data-rh="true" href="https://doc.nullcore.com.br/features/plugin/functions/filter" hreflang="en" rel="alternate"/><link data-rh="true" href="https://doc.nullcore.com.br/features/plugin/functions/filter" hreflang="x-default" rel="alternate"/><link href="../../../blog/rss.xml" rel="alternate" title="Nullcore RSS Feed" type="application/rss+xml"/>
<link href="../../../blog/atom.xml" rel="alternate" title="Nullcore Atom Feed" type="application/atom+xml"/>
<link href="https://www.google-analytics.com" rel="preconnect"/>
<link href="https://www.googletagmanager.com" rel="preconnect"/>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-522JSJVWTB"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-522JSJVWTB",{})</script><link href="../../../assets/css/styles.5b18f379.css" rel="stylesheet"/>
<script defer="defer" src="../../../assets/js/runtime~main.217be6ef.js"></script>
<script defer="defer" src="../../../assets/js/main.36f40a9e.js"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div aria-label="Skip to main content" role="region"><a class="skipToContent_fXgn" href="filter.html#__docusaurus_skipToContent_fallback">Pule para o conteÃºdo principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="flex w-full flex-col"><div><div class="navbar__inner"><div class="navbar__items"><button aria-expanded="false" aria-label="Toggle navigation bar" class="navbar__toggle clean-btn" type="button"><svg aria-hidden="true" height="30" viewbox="0 0 30 30" width="30"><path d="M4 7h22M4 15h22M4 23h22" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"></path></svg></button><a class="navbar__brand" href="../../../index.html"><div class="navbar__logo"><img alt="" class="themedComponent_mlkZ themedComponent--light_NVdE" src="../../../images/logo.png"/><img alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU" src="../../../images/logo-dark.png"/></div><b class="navbar__title text--truncate">Nullcore</b></a></div><div class="navbar__items navbar__items--right"><a aria-label="GitHub repository" class="navbar__item navbar__link header-github-link" href="https://doc.nullcore.com.br" rel="noopener noreferrer" target="_blank"></a><a aria-label="Discord server" class="navbar__item navbar__link header-discord-link" href="https://doc.nullcore.com.br" rel="noopener noreferrer" target="_blank"></a><div class="toggle_vylO colorModeToggle_DEke"><button aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" disabled="" title="Switch between dark and light mode (currently light mode)" type="button"><svg class="lightToggleIcon_pyhR" height="24" viewbox="0 0 24 24" width="24"><path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z" fill="currentColor"></path></svg><svg class="darkToggleIcon_wfgR" height="24" viewbox="0 0 24 24" width="24"><path d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z" fill="currentColor"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search"><span aria-label="expand searchbar" class="search-icon" role="button" tabindex="0"></span><input aria-label="Search" class="navbar__search-input search-bar" disabled="" id="search_input_react" placeholder="Loading..." type="search"/></div></div></div></div></div><div class="mt-3 min-[996px]:hidden"><div class="w-full"><div class="flex w-full flex-col justify-center"><a class="flex w-full items-center justify-center" href="https://warp.dev/open-webui" target="_blank"><img alt="Warp" class="w-full rounded-xl object-cover h-10" loading="lazy" src="../../../sponsors/banners/warp-banner.png"/></a><div class="mt-1 line-clamp-1 text-right text-xs font-semibold text-gray-600 dark:text-gray-300">O terminal inteligente para desenvolvedores</div></div></div></div></div><div class="navbar-sidebar__backdrop" role="presentation"></div></nav><div class="main-wrapper mainWrapper_z2l0" id="__docusaurus_skipToContent_fallback"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="flex h-full flex-col overflow-auto"><div class="h-fit"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../index.html">ğŸ¡ Home</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../getting-started.html">ğŸš€ IntroduÃ§Ã£o</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸš€ Getting Started'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="../../../features.html">â­ Recursos</a><button aria-expanded="true" aria-label="Collapse sidebar category 'â­ Features'" class="clean-btn menu__caret" type="button"></button></div><ul class="menu__list" style="display:block;overflow:visible;height:auto"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="../index.html" tabindex="0">ğŸ› ï¸ Ferramentas e funÃ§Ãµes</a><button aria-expanded="true" aria-label="Collapse sidebar category 'ğŸ› ï¸ Tools &amp; Functions'" class="clean-btn menu__caret" type="button"></button></div><ul class="menu__list" style="display:block;overflow:visible;height:auto"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="index.html" tabindex="0">ğŸ§° FunÃ§Ãµes</a><button aria-expanded="true" aria-label="Collapse sidebar category 'ğŸ§° Functions'" class="clean-btn menu__caret" type="button"></button></div><ul class="menu__list" style="display:block;overflow:visible;height:auto"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" href="pipe.html" tabindex="0">ğŸš° FunÃ§Ã£o do tubo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="filter.html" tabindex="0">ğŸª„ FunÃ§Ã£o do filtro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" href="action.html" tabindex="0">ğŸ¬ FunÃ§Ã£o de aÃ§Ã£o</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../tools.html" tabindex="0">Ferramentas</a><button aria-expanded="false" aria-label="Expand sidebar category 'âš™ï¸ Tools'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="../events/index.html" tabindex="0">â›‘ï¸ Eventos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="../valves/index.html" tabindex="0">ğŸ”„ VÃ¡lvulas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" href="../migration/index.html" tabindex="0">ğŸšš Ferramentas e funÃ§Ãµes de migraÃ§Ã£o: 0,4 a 0,5</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../workspace/index.html" tabindex="0">ğŸ–¥ï¸ EspaÃ§o de trabalho</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸ–¥ï¸ Workspace'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../chat-features/index.html" tabindex="0">ğŸ’¬ Recursos de bate -papo</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸ’¬ Chat Features'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../code-execution/index.html" tabindex="0">ğŸ ExecuÃ§Ã£o de cÃ³digo</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸ Code Execution'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../document-extraction/index.html" tabindex="0">ğŸ“„ ExtraÃ§Ã£o de documentos</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸ“„ Document Extraction'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../evaluation/index.html" tabindex="0">ğŸ“ AvaliaÃ§Ã£o</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../openldap.html" tabindex="0">IntegraÃ§Ã£o do OpenlDAP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../rag.html" tabindex="0">ğŸ” GeneraÃ§Ã£o aumentada de recuperaÃ§Ã£o (RAG)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../banners.html" tabindex="0">ğŸ”° Banners personalizÃ¡veis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../webhooks.html" tabindex="0">ğŸª IntegraÃ§Ãµes da WebHook</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../sso.html" tabindex="0">ğŸ”’ SSO: Suporte de autenticaÃ§Ã£o federado</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸ”’ SSO: Federated Authentication Support'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" href="../../scim.html" tabindex="0">ğŸ” SCIM 2.0: Provisionamento automatizado de usuÃ¡rio</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../troubleshooting.html">ğŸ› ï¸ SoluÃ§Ã£o de problemas</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸ› ï¸ Troubleshooting'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../category/-tutorials.html">ğŸ“ Tutoriais</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸ“ Tutorials'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../openapi-servers/index.html">ğŸ”¨ Servidores de ferramentas OpenApi</a><button aria-expanded="false" aria-label="Expand sidebar category 'ğŸ”¨ OpenAPI Tool Servers'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="../../../pipelines/index.html">âš¡ Pipelines</a><button aria-expanded="false" aria-label="Expand sidebar category 'âš¡ Pipelines'" class="clean-btn menu__caret" type="button"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../faq.html">ğŸ“‹ FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../roadmap.html">Roteiro Roteiro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../security.html">ğŸ”’ PolÃ­tica de seguranÃ§a</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../contributing.html">ğŸ¤ Contribuindo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../sponsorships.html">ğŸŒ PatrocÃ­nio</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../license.html">âš–ï¸ LicenÃ§a aberta da webui</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../enterprise.html">ğŸ¢ Nullcore para empresas</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../mission.html">ğŸ¯ Nossa missÃ£o</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="../../../team.html">ğŸ‘¥ Nossa equipe</a></li></ul></nav></div></div><div class="mt-3 px-5"><div class="pb-4"><div class="mb-2"><div class="mb-1 text-xs font-medium text-gray-600 underline dark:text-gray-300">Patrocinado por<!-- -->Urdidura</div><a href="https://warp.dev/open-webui" target="_blank"><img alt="Warp" class="block h-12 w-full rounded-xl object-cover" loading="lazy" src="../../../sponsors/banners/warp-banner-mobile.png"/></a><div class="mt-1 line-clamp-2 text-right text-xs font-medium text-gray-600 dark:text-gray-300">O terminal inteligente para desenvolvedores</div></div></div></div></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav aria-label="Breadcrumbs" class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="../../../index.html"><svg class="breadcrumbHomeIcon_YNFT" viewbox="0 0 24 24"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a class="breadcrumbs__link" href="../../../features.html" itemprop="item"><span itemprop="name">â­ Recursos</span></a><meta content="1" itemprop="position"/></li><li class="breadcrumbs__item" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a class="breadcrumbs__link" href="../index.html" itemprop="item"><span itemprop="name">ğŸ› ï¸ Ferramentas e funÃ§Ãµes</span></a><meta content="2" itemprop="position"/></li><li class="breadcrumbs__item" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><a class="breadcrumbs__link" href="index.html" itemprop="item"><span itemprop="name">ğŸ§° FunÃ§Ãµes</span></a><meta content="3" itemprop="position"/></li><li class="breadcrumbs__item breadcrumbs__item--active" itemprop="itemListElement" itemscope="" itemtype="https://schema.org/ListItem"><span class="breadcrumbs__link" itemprop="name">ğŸª„ FunÃ§Ã£o do filtro</span><meta content="4" itemprop="position"/></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button class="clean-btn tocCollapsibleButton_TO0P" type="button">Nesta pÃ¡gina</button></div><div class="theme-doc-markdown markdown"><header><h1>ğŸª„ FunÃ§Ã£o do filtro: modifique entradas e saÃ­das</h1></header>
<p>Bem -vindo ao guia abrangente sobre funÃ§Ãµes de filtro no Nullcore! Os filtros sÃ£o flexÃ­veis e poderosos<strong>Sistema de plug -in</strong>para modificar dados<em>Antes de ser enviado para o grande modelo de idioma (LLM)</em>(entrada) ou<em>Depois de voltar do LLM</em>(saÃ­da). Esteja vocÃª estÃ¡ transformando entradas para melhor contexto ou limpar saÃ­das para melhorar a legibilidade,<strong>FunÃ§Ãµes de filtro</strong>Deixe vocÃª fazer tudo.</p>
<p>Este guia vai quebrar<strong>O que sÃ£o os filtros</strong>, como eles funcionam, sua estrutura e tudo o que vocÃª precisa saber para criar filtros poderosos e amigÃ¡veis. Vamos cavar e nÃ£o se preocupe - eu usarei metÃ¡foras, exemplos e dicas para deixar tudo cristalino claro! ğŸŒŸ</p>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-what-are-filters-in-open-webui">ğŸŒŠ O que sÃ£o filtros em webui aberto?<a aria-label="Direct link to ğŸŒŠ What Are Filters in Nullcore?" class="hash-link" href="filter.html#-what-are-filters-in-open-webui" title="Direct link to ğŸŒŠ What Are Filters in Nullcore?"></a></h2>
<p>Imagine o Nullcore como um<strong>fluxo de Ã¡gua</strong>fluindo atravÃ©s de tubos:</p>
<ul>
<li><strong>Entradas do usuÃ¡rio</strong>e<strong>SaÃ­das LLM</strong>sÃ£o a Ã¡gua.</li>
<li><strong>Filtros</strong>sÃ£o os<strong>estÃ¡gios de tratamento de Ã¡gua</strong>Isso limpa, modifica e adapta a Ã¡gua antes de chegar ao destino final.</li>
</ul>
<p>Os filtros ficam no meio do fluxo - como pontos de verificaÃ§Ã£o - onde vocÃª decide o que precisa ser ajustado.</p>
<p>Aqui estÃ¡ um resumo rÃ¡pido do que os filtros fazem:</p>
<ol>
<li><strong>Modificar entradas do usuÃ¡rio (funÃ§Ã£o de entrada)</strong>: Ajuste os dados de entrada antes de atingir o modelo de IA. Ã‰ aqui que vocÃª aprimora a clareza, adiciona contexto, higieniza mensagens de texto ou reformate para atender aos requisitos especÃ­ficos.</li>
<li><strong>SaÃ­das do modelo de interceptaÃ§Ã£o (funÃ§Ã£o do fluxo)</strong>: Capture e ajuste as respostas da IA<strong>como eles sÃ£o gerados</strong>pelo modelo. Isso Ã© Ãºtil para modificaÃ§Ãµes em tempo real, como filtrar informaÃ§Ãµes confidenciais ou formatar a saÃ­da para uma melhor legibilidade.</li>
<li><strong>Modificar saÃ­das do modelo (funÃ§Ã£o de saÃ­da)</strong>: Ajuste a resposta da IA<strong>Depois de processado</strong>, antes de exibi -lo ao usuÃ¡rio. Isso pode ajudar a refinar, registrar ou adaptar os dados para uma experiÃªncia mais limpa do usuÃ¡rio.</li>
</ol>
<blockquote>
<p><strong>Conceito -chave:</strong>Os filtros nÃ£o sÃ£o modelos independentes, mas ferramentas que aprimoram ou transformam os dados que viajam<em>para</em>e<em>de</em>modelos.</p>
</blockquote>
<p>Filtros sÃ£o como<strong>tradutores ou editores</strong>No fluxo de trabalho da IA: vocÃª pode interceptar e alterar a conversa sem interromper o fluxo.</p>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-structure-of-a-filter-function-the-skeleton">ğŸ—ºï¸ Estrutura de uma funÃ§Ã£o de filtro: o esqueleto<a aria-label="Direct link to ğŸ—ºï¸ Structure of a Filter Function: The Skeleton" class="hash-link" href="filter.html#ï¸-structure-of-a-filter-function-the-skeleton" title="Direct link to ğŸ—ºï¸ Structure of a Filter Function: The Skeleton"></a></h2>
<p>Vamos comeÃ§ar com a representaÃ§Ã£o mais simples de uma funÃ§Ã£o de filtro. NÃ£o se preocupe se algumas partes se sentirem tÃ©cnicas no comeÃ§o - vamos quebrar tudo passo a passo!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-basic-skeleton-of-a-filter">ğŸ¦´ Esqueleto bÃ¡sico de um filtro<a aria-label="Direct link to ğŸ¦´ Basic Skeleton of a Filter" class="hash-link" href="filter.html#-basic-skeleton-of-a-filter" title="Direct link to ğŸ¦´ Basic Skeleton of a Filter"></a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">de</span><span class="token plain">Pydantic</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Basemodel</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">de</span><span class="token plain">digitando</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Opcional</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Filtro</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># VÃ¡lvulas: opÃ§Ãµes de configuraÃ§Ã£o para o filtro</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">VÃ¡lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">  </span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">passar</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Inicialize vÃ¡lvulas (configuraÃ§Ã£o opcional para o filtro)</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">vÃ¡lvulas</span><span class="token operator" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">VÃ¡lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">entrada</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Ã‰ aqui que vocÃª manipula as entradas do usuÃ¡rio.</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">imprimir</span><span class="token punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">f "Inlet chamado:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">corpo</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">corpo</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fluxo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">evento</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Ã‰ aqui que vocÃª modifica pedaÃ§os transmitidos de saÃ­da do modelo.</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">imprimir</span><span class="token punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">F "Evento de fluxo:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">evento</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">evento</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tomada</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Nenhum</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Ã‰ aqui que vocÃª manipula saÃ­das do modelo.</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">imprimir</span><span class="token punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">f "Outlet chamado:</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">corpo</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="--toggle-filter-example-adding-interactivity-and-icons-new-in-open-webui-0610">ğŸ†• ğŸ§² TOGLGL Filtro Exemplo: Adicionando interatividade e Ã­cones (novo no webui aberto 0.6.10)<a aria-label="Direct link to ğŸ†• ğŸ§² Toggle Filter Example: Adding Interactivity and Icons (New in Nullcore 0.6.10)" class="hash-link" href="filter.html#--toggle-filter-example-adding-interactivity-and-icons-new-in-open-webui-0610" title="Direct link to ğŸ†• ğŸ§² Toggle Filter Example: Adding Interactivity and Icons (New in Nullcore 0.6.10)"></a></h3>
<p>Os filtros podem fazer mais do que simplesmente modificar o texto - eles podem expor alternÃ¢ncia da interface do usuÃ¡rio e exibir Ã­cones personalizados. Por exemplo, vocÃª pode querer um filtro que possa ser ativado/desativado com um botÃ£o de interface do usuÃ¡rio e exibe um Ã­cone especial na interface do usuÃ¡rio de entrada de mensagem do Nullcore.</p>
<p>Veja como vocÃª pode criar um filtro de alternÃ¢ncia:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">de</span><span class="token plain">Pydantic</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">Campo</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">de</span><span class="token plain">digitando</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Opcional</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Filtro</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">VÃ¡lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">passar</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">vÃ¡lvulas</span><span class="token operator" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">VÃ¡lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">alternar</span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Verdadeiro</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># IMPORTANTE: Isso cria uma interface do usuÃ¡rio do Switch em Web Open</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Dica: use Data SVG URI!</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Ã­cone</span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token triple-quoted-string string" style="color:#e3116c">"" "Dados: imagem/svg+xml; base64, phn2zyb4bwxucz0iahr0cdovl3d3dy53my5vcmcvmjawmc9zd mciigzpbgw9Im5VBMuiiHzpzxDCB3G9IJAGMCAYNCAYNCIGC3RYB2TLLXDPZHROPSIXLJUIIHN0CM9R ZT0iy3vycmvudenvbg9yiibjbgfzcz0ic2l6zs02ij4kica8cgf0acbzdhjva2utbglUzwnhcd0icm 91BMQIIHN0CM9RZS1SAW5LAM9PBJ0ICM91BMQIIGQ9IK0XMIAXOHYTNS4YNW0WIDBHNI4WMSA2LJAXI DAgMCAwIDEuNS0uMTg5bS0xLjUuMTg5YTYuMDEgNi4wMSAwIDAgMS0xLjUtLjE4OW0zLjc1IDcuNDc4YTEyLjA2IDEyLjA2IDAgMCAxLTQuNSAwbTMuNzUgMi4zODNhMTQuNDA2IDE0LjQwNiAwIDAgMS0zID BnmtqumJUGMTH2lS4XOTJJMC0UOTGZLJY1OC0XlJGYMYAXLJUWOC0YLJMXNME3LJUGNY41IdAgmsAw Ltcunte3idbjljg1ljq5myaxljuwosaxljmzmyaxljuwosayljmxnlyxociglz4kpc9zdmc+cg == "" "</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">passar</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">assÃ­ncrono</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">entrada</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">__event_emitter__</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">__usuÃ¡rio__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Opcional</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Nenhum</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">aguarde</span><span class="token plain">__event_emitter__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">"tipo"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"status"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">"dados"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"descriÃ§Ã£o"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Alterado!"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"feito"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Verdadeiro</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"escondido"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Falso</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">corpo</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-whats-happening">ğŸ–¼ï¸ o que estÃ¡ acontecendo?<a aria-label="Direct link to ğŸ–¼ï¸ Whatâ€™s happening?" class="hash-link" href="filter.html#ï¸-whats-happening" title="Direct link to ğŸ–¼ï¸ Whatâ€™s happening?"></a></h4>
<ul>
<li><strong>alternar = true</strong>Cria uma interface do usuÃ¡rio do Switch no Webui aberto - os usuÃ¡rios podem ativar ou desativar manualmente o filtro em tempo real.</li>
<li><strong>Ã­cone</strong>(com um URI de dados) serÃ¡ exibido como uma pequena imagem ao lado do nome do filtro. VocÃª pode usar qualquer SVG desde que o URI de dados codificado!</li>
<li><strong>O<code>inlet</code>funÃ§Ã£o</strong>usa o<code>__event_emitter__</code>Argumento especial para transmitir feedback/status para a interface do usuÃ¡rio, como um pouco de brinde/notificaÃ§Ã£o que diz "Toned!"</li>
</ul>
<p><img alt="Toggle Filter" class="img_ev3q" decoding="async" height="308" loading="lazy" src="../../../assets/images/toggle-filter-491e8306ef6b94f72cd5236c7944043d.png" width="849"/></p>
<p>VocÃª pode usar esses mecanismos para tornar seus filtros dinÃ¢micos, interativos e visualmente exclusivos no ecossistema de plug -in do Nullcore.</p>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-key-components-explained">ğŸ¯ Componentes -chave explicados<a aria-label="Direct link to ğŸ¯ Key Components Explained" class="hash-link" href="filter.html#-key-components-explained" title="Direct link to ğŸ¯ Key Components Explained"></a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="1ï¸âƒ£-valves-class-optional-settings">1ï¸âƒ£<strong><code>Valves</code>Classe (configuraÃ§Ãµes opcionais)</strong><a aria-label="Direct link to 1ï¸âƒ£-valves-class-optional-settings" class="hash-link" href="filter.html#1ï¸âƒ£-valves-class-optional-settings" title="Direct link to 1ï¸âƒ£-valves-class-optional-settings"></a></h4>
<p>Pense em<strong>VÃ¡lvulas</strong>como botÃµes e controles deslizantes para o seu filtro. Se vocÃª deseja oferecer aos usuÃ¡rios opÃ§Ãµes configurÃ¡veis â€‹â€‹para ajustar o comportamento do seu filtro, vocÃª os define aqui.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">VÃ¡lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">Option_name</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Valor padrÃ£o"</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<p>Por exemplo:<br/>
<!-- -->Se vocÃª estÃ¡ criando um filtro que converte respostas em maiÃºsculas, pode permitir que os usuÃ¡rios configurem se cada saÃ­da Ã© totalmente capitalizada por meio de uma vÃ¡lvula como<code>TRANSFORM_UPPERCASE: bool = True/False</code></p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-valves-with-dropdown-menus-enums">Configurando vÃ¡lvulas com menus suspensos (enums)<a aria-label="Direct link to Configuring Valves with Dropdown Menus (Enums)" class="hash-link" href="filter.html#configuring-valves-with-dropdown-menus-enums" title="Direct link to Configuring Valves with Dropdown Menus (Enums)"></a></h5>
<p>VocÃª pode aprimorar a experiÃªncia do usuÃ¡rio para as configuraÃ§Ãµes do seu filtro, fornecendo menus suspensos em vez de entradas de texto de forma livre para certas<code>Valves</code>. Isso Ã© alcanÃ§ado usando<code>json_schema_extra</code>com o<code>enum</code>palavra -chave em seu pydantic<code>Field</code>definiÃ§Ãµes.</p>
<p>O<code>enum</code>A palavra -chave permite especificar uma lista de valores predefinidos que a interface do usuÃ¡rio deve apresentar como opÃ§Ãµes em um suspensÃ£o.</p>
<p><strong>Exemplo:</strong>Criando um suspensÃ£o para temas coloridos em um filtro.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">de</span><span class="token plain">Pydantic</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">Campo</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">de</span><span class="token plain">digitando</span><span class="token keyword" style="color:#00009f">importar</span><span class="token plain">Opcional</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Defina suas opÃ§Ãµes disponÃ­veis (por exemplo, temas coloridos)</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">Color_themes</span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"Simples (sem cor)"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"Azul monocromÃ¡tico"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"azul"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"RoyalBlue"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Steelblue"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Lightsteelblue"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"Caloroso e enÃ©rgico"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"laranja"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"vermelho"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"magenta"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Darkorange"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"Cool e calma"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"ciano"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"azul"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"verde"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Cerceta"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"CadetBlue"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"Floresta e Terra"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"verde"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Darkgreen"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Limegreen"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Olivegreen"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"PÃºrpura mÃ­stica"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"roxo"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Darkorchid"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Mediumpurple"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Lavanda"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"Escala de cinza"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"cinza"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Darkgray"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"LightGray"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"DiversÃ£o de arco -Ã­ris"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"vermelho"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"laranja"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"amarelo"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"verde"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"azul"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"Ã­ndigo"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"violeta"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"Breeze Ocean"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"azul"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ciano"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Lightcyan"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"DarkTurquoise"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"Sunset Glow"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"Darkred"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Darkorange"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"Laranja"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"ouro"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">"SequÃªncia personalizada (consulte o cÃ³digo)"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Filtro</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">VÃ¡lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Basemodel</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">selected_theme</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"Azul monocromÃ¡tico"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descriÃ§Ã£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Escolha um tema de cor predefinido para respostas de LLM.</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">JSON_SCHEMA_EXTRA</span><span class="token operator" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">"Enum"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">lista</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Color_themes</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">chaves</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Chave: isso cria o menu suspenso</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">Custom_Colors_CSV</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descriÃ§Ã£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"CSV de cores para o tema 'sequÃªncia personalizada' (por exemplo, 'vermelho, azul, verde'). Usa nomes Xcolor."</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">strip_existing_latex</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token boolean" style="color:#36acaa">Verdadeiro</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descriÃ§Ã£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Se for verdade, tentam remover os comandos de cores do LaTex existentes. Recomendado para evitar problemas de renderizaÃ§Ã£o aninhados".</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">colorize_type</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">str</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"sequencial_word"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descriÃ§Ã£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Como aplicar as cores: 'sequencial_word' (palavra por palavra), 'sequencial_line' (linha por linha), 'per_letter' (letra por letra), 'Full_Message' (mensagem inteira)."</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">JSON_SCHEMA_EXTRA</span><span class="token operator" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token string" style="color:#e3116c">"Enum"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"sequencial_word"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"sequencial_line"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"Per_letter"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token string" style="color:#e3116c">"Full_Message"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># Outro exemplo de suspensÃ£o de enum</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">color_cycle_reset_per_message</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token boolean" style="color:#36acaa">Verdadeiro</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descriÃ§Ã£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Se for verdade, a sequÃªncia de cores reinicia para cada nova mensagem de resposta LLM. Se false, continua entre as mensagens".</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">Debug_logging</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">Campo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token boolean" style="color:#36acaa">Falso</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">descriÃ§Ã£o</span><span class="token operator" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Habilite o registro detalhado do console para depurar operaÃ§Ãµes de filtro".</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">vÃ¡lvulas</span><span class="token operator" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">VÃ¡lvulas</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># ... Resto da sua lÃ³gica __init__ ...</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<p><strong>O que estÃ¡ acontecendo?</strong></p>
<ul>
<li><strong><code>json_schema_extra</code></strong>: Este argumento em<code>Field</code>Permite injetar propriedades arbitrÃ¡rias de esquema JSON que o Pydantic nÃ£o suporta explicitamente, mas pode ser usado por ferramentas a jusante (como o renderizador da UI da Nullcore).</li>
<li><strong><code>"enum": list(COLOR_THEMES.keys())</code></strong>: Isso diz ao Nullcore que o<code>selected_theme</code>o campo deve apresentar uma seleÃ§Ã£o de valores, especificamente as chaves de nosso<code>COLOR_THEMES</code>dicionÃ¡rio. A interface do usuÃ¡rio renderizarÃ¡ um menu suspenso com "Plain (sem cor)", "azul monocromÃ¡tico", "quente e energÃ©tico", etc., como opÃ§Ãµes selecionÃ¡veis.</li>
<li>O<code>colorize_type</code>Campo tambÃ©m demonstra outro<code>enum</code>suspenso para diferentes mÃ©todos de coloraÃ§Ã£o.</li>
</ul>
<p>Usando<code>enum</code>para o seu<code>Valves</code>As opÃ§Ãµes tornam seus filtros mais fÃ¡ceis de usar e evita entradas invÃ¡lidas, levando a uma experiÃªncia de configuraÃ§Ã£o mais suave.</p>
<hr/>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="2ï¸âƒ£-inlet-function-input-pre-processing">2ï¸âƒ£<strong><code>inlet</code>FunÃ§Ã£o (entrada de prÃ©-processamento)</strong><a aria-label="Direct link to 2ï¸âƒ£-inlet-function-input-pre-processing" class="hash-link" href="filter.html#2ï¸âƒ£-inlet-function-input-pre-processing" title="Direct link to 2ï¸âƒ£-inlet-function-input-pre-processing"></a></h4>
<p>O<code>inlet</code>funÃ§Ã£o Ã© como<strong>Preparando comida antes de cozinhar</strong>. Imagine que vocÃª Ã© um chef: antes que os ingredientes entrem na receita (o LLM neste caso), vocÃª pode lavar vegetais, cortar a cebola ou temperar a carne. Sem essa etapa, seu prato final pode nÃ£o ter sabor, ter produtos nÃ£o lavados ou simplesmente ser inconsistente.</p>
<p>No mundo do webui aberto, o<code>inlet</code>funÃ§Ã£o faz essa importante preparaÃ§Ã£o funciona no<strong>entrada do usuÃ¡rio</strong>Antes de ser enviado ao modelo. Ele garante que a entrada seja a mais limpa, contextual e Ãºtil possÃ­vel para a IA manipular.</p>
<p><strong>Entrada</strong></p>
<ul>
<li><strong><code>body</code></strong>: A entrada bruta do Nullcore para o modelo. EstÃ¡ no formato de uma solicitaÃ§Ã£o de conclusÃ£o de bate-papo (geralmente um dicionÃ¡rio que inclui campos como as mensagens da conversa, as configuraÃ§Ãµes de modelo e outros metadados). Pense nisso como seus ingredientes de receita.</li>
</ul>
<p><strong>Sua tarefa</strong><br/>
<!-- -->Modificar e devolver o<code>body</code>. A versÃ£o modificada do<code>body</code>Ã© com o que o LLM funciona, entÃ£o esta Ã© sua chance de trazer clareza, estrutura e contexto para a entrada.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-why-would-you-use-the-inlet">ğŸ³ Por que vocÃª usaria o<code>inlet</code><a aria-label="Direct link to -why-would-you-use-the-inlet" class="hash-link" href="filter.html#-why-would-you-use-the-inlet" title="Direct link to -why-would-you-use-the-inlet"></a></h5>
<ol>
<li>
<p><strong>Adicionando contexto</strong>: Anexar informaÃ§Ãµes cruciais automaticamente Ã  entrada do usuÃ¡rio, especialmente se o texto deles for vago ou incompleto. Por exemplo, vocÃª pode adicionar "VocÃª Ã© um assistente amigÃ¡vel" ou "Ajude esse usuÃ¡rio a solucionar um bug de software".</p>
</li>
<li>
<p><strong>FormataÃ§Ã£o de dados</strong>: Se a entrada exigir um formato especÃ­fico, como JSON ou Markdown, vocÃª poderÃ¡ transformÃ¡ -lo antes de enviÃ¡ -lo para o modelo.</p>
</li>
<li>
<p><strong>Entrada higienizada</strong>: Remova caracteres indesejados, tire sÃ­mbolos potencialmente prejudiciais ou confusos (como espaÃ§o em branco ou emojis excessivos) ou substitua informaÃ§Ãµes confidenciais.</p>
</li>
<li>
<p><strong>Simplificar a entrada do usuÃ¡rio</strong>: Se a saÃ­da do seu modelo melhorar com orientaÃ§Ãµes adicionais, vocÃª poderÃ¡ usar o<code>inlet</code>Injetar instruÃ§Ãµes de esclarecimento automaticamente!</p>
</li>
</ol>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-example-use-cases-build-on-food-prep">ğŸ’¡ Exemplo de casos de uso: construir na preparaÃ§Ã£o de alimentos<a aria-label="Direct link to ğŸ’¡ Example Use Cases: Build on Food Prep" class="hash-link" href="filter.html#-example-use-cases-build-on-food-prep" title="Direct link to ğŸ’¡ Example Use Cases: Build on Food Prep"></a></h5>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="-example-1-adding-system-context">ğŸ¥— Exemplo 1: Adicionando contexto do sistema<a aria-label="Direct link to ğŸ¥— Example 1: Adding System Context" class="hash-link" href="filter.html#-example-1-adding-system-context" title="Direct link to ğŸ¥— Example 1: Adding System Context"></a></h6>
<p>Digamos que o LLM seja um chef preparando um prato para a culinÃ¡ria italiana, mas o usuÃ¡rio nÃ£o mencionou "isso Ã© para a culinÃ¡ria italiana". VocÃª pode garantir que a mensagem seja clara, anexando esse contexto antes de enviar os dados para o modelo.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">entrada</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">__usuÃ¡rio__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Opcional</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Nenhum</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Adicionar mensagem do sistema para o contexto italiano na conversa</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">context_message</span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"papel"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"sistema"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"VocÃª estÃ¡ ajudando o usuÃ¡rio a preparar uma refeiÃ§Ã£o italiana".</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Insira o contexto no inÃ­cio da histÃ³ria do bate -papo</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">setDefault</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Mensagens"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">inserir</span><span class="token punctuation" style="color:#393A34"></span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">context_message</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">corpo</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<p><strong>O que acontece?</strong></p>
<ul>
<li>Alguma entrada do usuÃ¡rio como "Quais sÃ£o algumas boas idÃ©ias de jantar?" Agora carrega o tema italiano porque definimos o contexto do sistema! O cheesecake pode nÃ£o aparecer como uma resposta, mas o macarrÃ£o com certeza o farÃ¡.</li>
</ul>
<h6 class="anchor anchorWithStickyNavbar_LWe7" id="-example-2-cleaning-input-remove-odd-characters">ğŸ”ª Exemplo 2: Limpeza de entrada (Remova caracteres Ã­mpares)<a aria-label="Direct link to ğŸ”ª Example 2: Cleaning Input (Remove Odd Characters)" class="hash-link" href="filter.html#-example-2-cleaning-input-remove-odd-characters" title="Direct link to ğŸ”ª Example 2: Cleaning Input (Remove Odd Characters)"></a></h6>
<p>Suponha que a entrada do usuÃ¡rio pareÃ§a confusa ou inclua sÃ­mbolos indesejados como<code>!!!</code>, tornando a conversa ineficiente ou mais difÃ­cil para o modelo analisar. VocÃª pode limpÃ¡ -lo ao preservar o conteÃºdo principal.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">entrada</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">__usuÃ¡rio__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Opcional</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Nenhum</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Limpe a Ãºltima entrada do usuÃ¡rio (do final da lista de 'mensagens')</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">last_message</span><span class="token operator" style="color:#393A34"></span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"Mensagens"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">[[</span><span class="token operator" style="color:#393A34"></span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"Mensagens"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">[[</span><span class="token operator" style="color:#393A34"></span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">last_message</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">substituir</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">tira</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">corpo</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<p><strong>O que acontece?</strong></p>
<ul>
<li>Antes:<code>"How can I debug this issue!!!"</code>â¡ï¸ Enviado ao modelo como<code>"How can I debug this issue"</code></li>
</ul>
<p>NOTA: O usuÃ¡rio sente o mesmo, mas o modelo processa uma consulta mais limpa e mais fÃ¡cil de entender.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-how-inlet-helps-optimize-input-for-the-llm">ğŸ“Š Como<code>inlet</code>Ajuda a otimizar a entrada para o LLM:<a aria-label="Direct link to -how-inlet-helps-optimize-input-for-the-llm" class="hash-link" href="filter.html#-how-inlet-helps-optimize-input-for-the-llm" title="Direct link to -how-inlet-helps-optimize-input-for-the-llm"></a></h5>
<ul>
<li>Melhora<strong>precisÃ£o</strong>Esclarecendo consultas ambÃ­guas.</li>
<li>Faz a IA<strong>mais eficiente</strong>Removendo ruÃ­do desnecessÃ¡rio como emojis, tags html ou pontuaÃ§Ã£o extra.</li>
<li>Garante<strong>consistÃªncia</strong>formatando a entrada do usuÃ¡rio para corresponder aos padrÃµes ou esquemas esperados do modelo (como, digamos, JSON para um caso de uso especÃ­fico).</li>
</ul>
<p><strong>Pense em<code>inlet</code>Como o sous-chef em sua cozinha</strong>â€”Enscando tudo o que entra no modelo (sua AI "receita") foi preparado, limpo e temperado com perfeiÃ§Ã£o. Quanto melhor a entrada, melhor a saÃ­da!</p>
<hr/>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-3ï¸âƒ£-stream-hook-new-in-open-webui-0517">ğŸ†• 3ï¸âƒ£<strong><code>stream</code>Hook (novo em webui aberto 0.5.17)</strong><a aria-label="Direct link to -3ï¸âƒ£-stream-hook-new-in-open-webui-0517" class="hash-link" href="filter.html#-3ï¸âƒ£-stream-hook-new-in-open-webui-0517" title="Direct link to -3ï¸âƒ£-stream-hook-new-in-open-webui-0517"></a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-what-is-the-stream-hook">ğŸ”„ Qual Ã© o<code>stream</code>Gancho?<a aria-label="Direct link to -what-is-the-stream-hook" class="hash-link" href="filter.html#-what-is-the-stream-hook" title="Direct link to -what-is-the-stream-hook"></a></h5>
<p>O<strong><code>stream</code>funÃ§Ã£o</strong>Ã© um novo recurso introduzido em webui aberto<strong>0.5.17</strong>que permite que vocÃª<strong>Interceptar e modificar respostas do modelo transmitido</strong>em tempo real.</p>
<p>Diferente<code>outlet</code>, que processa uma resposta completa,<code>stream</code>opera em<strong>pedaÃ§os individuais</strong>como eles sÃ£o recebidos do modelo.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="ï¸-when-to-use-the-stream-hook">ğŸ› ï¸ Quando usar o gancho de fluxo?<a aria-label="Direct link to ğŸ› ï¸ When to Use the Stream Hook?" class="hash-link" href="filter.html#ï¸-when-to-use-the-stream-hook" title="Direct link to ğŸ› ï¸ When to Use the Stream Hook?"></a></h5>
<ul>
<li>Modificar<strong>respostas de streaming</strong>Antes de serem exibidos aos usuÃ¡rios.</li>
<li>Implementar<strong>Censura ou limpeza em tempo real</strong></li>
<li><strong>Monitorar dados transmitidos</strong>para registro/depuraÃ§Ã£o.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-example-logging-streaming-chunks">ğŸ“œ Exemplo: Logging Streaming Phunks<a aria-label="Direct link to ğŸ“œ Example: Logging Streaming Chunks" class="hash-link" href="filter.html#-example-logging-streaming-chunks" title="Direct link to ğŸ“œ Example: Logging Streaming Chunks"></a></h5>
<p>Veja como vocÃª pode inspecionar e modificar respostas LLM transmitidas:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fluxo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">evento</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">imprimir</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">evento</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Imprima cada pedaÃ§o de entrada para inspeÃ§Ã£o</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">evento</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<blockquote>
<p><strong>Exemplo de eventos transmitidos:</strong></p>
</blockquote>
<div class="language-jsonl codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-jsonl codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{"id": "chatcmpl-B4l99MMaP3QLGU5uV7BaBM0eDS0jb","choices": [{"delta": {"content": "Hi"}}]}</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">{"id": "chatcmpl-B4l99MMaP3QLGU5uV7BaBM0eDS0jb","choices": [{"delta": {"content": "!"}}]}</span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">{"id": "chatcmpl-B4l99MMaP3QLGU5uV7BaBM0eDS0jb","choices": [{"delta": {"content": " ğŸ˜Š"}}]}</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<p><strong>O que acontece?</strong></p>
<ul>
<li>Cada linha representa um<strong>pequeno fragmento</strong>da resposta transmitida do modelo.</li>
<li>O<strong><code>delta.content</code>campo</strong>contÃ©m o texto progressivamente gerado.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="-example-filtering-out-emojis-from-streamed-data">ğŸ”„ Exemplo: filtrando emojis a partir de dados transmitidos<a aria-label="Direct link to ğŸ”„ Example: Filtering Out Emojis from Streamed Data" class="hash-link" href="filter.html#-example-filtering-out-emojis-from-streamed-data" title="Direct link to ğŸ”„ Example: Filtering Out Emojis from Streamed Data"></a></h5>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">fluxo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">evento</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">para</span><span class="token plain">escolha</span><span class="token keyword" style="color:#00009f">em</span><span class="token plain">evento</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">pegar</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"escolhas"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">delta</span><span class="token operator" style="color:#393A34"></span><span class="token plain">escolha</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">pegar</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"delta"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">se</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"contente"</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">em</span><span class="token plain">delta</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">delta</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">delta</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">substituir</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Tira emojis</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">evento</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<p><strong>Antes:</strong> <code>"Hi ğŸ˜Š"</code><br/>
<!-- --><strong>Depois:</strong> <code>"Hi"</code></p>
<hr/>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="4ï¸âƒ£-outlet-function-output-post-processing">4ï¸âƒ£<strong><code>outlet</code>FunÃ§Ã£o (saÃ­da de pÃ³s-processamento de saÃ­da)</strong><a aria-label="Direct link to 4ï¸âƒ£-outlet-function-output-post-processing" class="hash-link" href="filter.html#4ï¸âƒ£-outlet-function-output-post-processing" title="Direct link to 4ï¸âƒ£-outlet-function-output-post-processing"></a></h4>
<p>O<code>outlet</code>funÃ§Ã£o Ã© como um<strong>revisor</strong>: arrume a resposta da IA â€‹â€‹(ou faÃ§a alteraÃ§Ãµes finais)<em>Depois de ser processado pelo LLM.</em></p>
<p><strong>Entrada</strong></p>
<ul>
<li><strong><code>body</code></strong>: Isso contÃ©m<strong>todas as mensagens atuais</strong>no bate -papo (histÃ³rico do usuÃ¡rio + LLM responde).</li>
</ul>
<p><strong>Sua tarefa</strong>: Modifique isso<code>body</code>. VocÃª pode limpar, anexar ou fazer alteraÃ§Ãµes de log, mas esteja atento Ã  forma como cada ajuste afeta a experiÃªncia do usuÃ¡rio.</p>
<p><strong>PrÃ¡ticas recomendadas</strong></p>
<ul>
<li>Prefira o registro de ediÃ§Ãµes diretas na saÃ­da (por exemplo, para depuraÃ§Ã£o ou anÃ¡lise).</li>
<li>Se forem necessÃ¡rias modificaÃ§Ãµes pesadas (como saÃ­das de formataÃ§Ã£o), considere usar o<strong>funÃ§Ã£o do tubo</strong>em vez de.</li>
</ul>
<p><strong>Exemplo de uso de uso</strong>: Retire as respostas sensÃ­veis da API que vocÃª nÃ£o deseja que o usuÃ¡rio veja:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tomada</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">__usuÃ¡rio__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Opcional</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Nenhum</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">para</span><span class="token plain">mensagem</span><span class="token keyword" style="color:#00009f">em</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"Mensagens"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">mensagem</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain">mensagem</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">substituir</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"&lt;pi_key&gt;"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"[REDACTED]"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">corpo</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-filters-in-action-building-practical-examples">ğŸŒŸ Filtros em aÃ§Ã£o: Construindo exemplos prÃ¡ticos<a aria-label="Direct link to ğŸŒŸ Filters in Action: Building Practical Examples" class="hash-link" href="filter.html#-filters-in-action-building-practical-examples" title="Direct link to ğŸŒŸ Filters in Action: Building Practical Examples"></a></h2>
<p>Vamos criar alguns exemplos do mundo real para ver como vocÃª usaria os filtros!</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-example-1-add-context-to-every-user-input">ğŸ“š Exemplo #1: Adicione o contexto a cada entrada do usuÃ¡rio<a aria-label="Direct link to ğŸ“š Example #1: Add Context to Every User Input" class="hash-link" href="filter.html#-example-1-add-context-to-every-user-input" title="Direct link to ğŸ“š Example #1: Add Context to Every User Input"></a></h3>
<p>Quer que o LLM sempre saiba que estÃ¡ ajudando um cliente a solucionar problemas de software? VocÃª pode adicionar instruÃ§Ãµes como<strong>"VocÃª Ã© um assistente de soluÃ§Ã£o de problemas de software"</strong>para cada consulta de usuÃ¡rio.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Filtro</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">entrada</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">__usuÃ¡rio__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Opcional</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Nenhum</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">context_message</span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"papel"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"sistema"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"VocÃª Ã© um assistente de soluÃ§Ã£o de problemas de software".</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">setDefault</span><span class="token punctuation" style="color:#393A34"></span><span class="token string" style="color:#e3116c">"Mensagens"</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[[</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">inserir</span><span class="token punctuation" style="color:#393A34"></span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">context_message</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">corpo</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<hr/>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-example-2-highlight-outputs-for-easy-reading">ğŸ“š Exemplo #2: SaÃ­das de destaque para fÃ¡cil leitura<a aria-label="Direct link to ğŸ“š Example #2: Highlight Outputs for Easy Reading" class="hash-link" href="filter.html#-example-2-highlight-outputs-for-easy-reading" title="Direct link to ğŸ“š Example #2: Highlight Outputs for Easy Reading"></a></h3>
<p>Retornando a saÃ­da no Markdown ou outro estilo formatado? Use o<code>outlet</code>funÃ§Ã£o!</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa" tabindex="0"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">aula</span><span class="token plain"> </span><span class="token class-name">Filtro</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tomada</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">auto</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34">, Assim,</span><span class="token plain">__usuÃ¡rio__</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">Opcional</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">Nenhum</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token builtin">dito</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Adicionar marcaÃ§Ã£o de "destaque" para cada resposta</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">para</span><span class="token plain">mensagem</span><span class="token keyword" style="color:#00009f">em</span><span class="token plain">corpo</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"Mensagens"</span><span class="token punctuation" style="color:#393A34"></span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">se</span><span class="token plain">mensagem</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"papel"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"assistente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Resposta do modelo de destino</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">mensagem</span><span class="token punctuation" style="color:#393A34">[[</span><span class="token string" style="color:#e3116c">"contente"</span><span class="token punctuation" style="color:#393A34"></span><span class="token plain"> </span><span class="token operator" style="color:#393A34"></span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f "**</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">mensagem</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[[</span><span class="token string-interpolation interpolation string" style="color:#e3116c">'contente'</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation interpolation punctuation" style="color:#393A34"></span><span class="token string-interpolation string" style="color:#e3116c">** "</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Destaque com Markdown</span><span class="token plain"></span><br/></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">retornar</span><span class="token plain">corpo</span><br/></span></code></pre><div class="buttonGroup__atx"><button aria-label="Copy code to clipboard" class="clean-btn" title="Copy" type="button"><span aria-hidden="true" class="copyButtonIcons_eSgA"><svg class="copyButtonIcon_y97N" viewbox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" fill="currentColor"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewbox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" fill="currentColor"></path></svg></span></button></div></div></div>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-potential-confusion-clear-faq-">ğŸš§ ConfusÃ£o potencial: Clear FAQ ğŸ›‘<a aria-label="Direct link to ğŸš§ Potential Confusion: Clear FAQ ğŸ›‘" class="hash-link" href="filter.html#-potential-confusion-clear-faq-" title="Direct link to ğŸš§ Potential Confusion: Clear FAQ ğŸ›‘"></a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q-how-are-filters-different-from-pipe-functions"><strong>P: Como os filtros sÃ£o diferentes das funÃ§Ãµes do tubo?</strong><a aria-label="Direct link to q-how-are-filters-different-from-pipe-functions" class="hash-link" href="filter.html#q-how-are-filters-different-from-pipe-functions" title="Direct link to q-how-are-filters-different-from-pipe-functions"></a></h3>
<p>Filtros modificam dados<strong>vou</strong>e<strong>vindo de modelos</strong>mas nÃ£o interage significativamente com a lÃ³gica fora dessas fases. Tubos, por outro lado:</p>
<ul>
<li>Pode integrar<strong>APIs externas</strong>ou transformar significativamente como o back -end lida com operaÃ§Ãµes.</li>
<li>Exponha a lÃ³gica personalizada como totalmente novos "modelos".</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="q-can-i-do-heavy-post-processing-inside-outlet"><strong>P: Posso fazer um pÃ³s-processamento pesado dentro<code>outlet</code></strong><a aria-label="Direct link to q-can-i-do-heavy-post-processing-inside-outlet" class="hash-link" href="filter.html#q-can-i-do-heavy-post-processing-inside-outlet" title="Direct link to q-can-i-do-heavy-post-processing-inside-outlet"></a></h3>
<p>VocÃª pode, mas<strong>NÃ£o Ã© a melhor prÃ¡tica.</strong></p>
<ul>
<li><strong>Filtros</strong>sÃ£o projetados para fazer alteraÃ§Ãµes leves ou aplicar log.</li>
<li>Se forem necessÃ¡rias modificaÃ§Ãµes pesadas, considere um<strong>FunÃ§Ã£o do tubo</strong>em vez de.</li>
</ul>
<hr/>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-recap-why-build-filter-functions">ğŸ‰ Resumo: Por que criar funÃ§Ãµes de filtro?<a aria-label="Direct link to ğŸ‰ Recap: Why Build Filter Functions?" class="hash-link" href="filter.html#-recap-why-build-filter-functions" title="Direct link to ğŸ‰ Recap: Why Build Filter Functions?"></a></h2>
<p>AtÃ© agora, vocÃª aprendeu:</p>
<ol>
<li><strong>Entrada</strong>manipula<strong>entradas do usuÃ¡rio</strong>(prÃ©-processamento).</li>
<li><strong>Fluxo</strong>intercepta e modifica<strong>SaÃ­das do modelo transmitido</strong>(em tempo real).</li>
<li><strong>Tomada</strong>Tweaks<strong>SaÃ­das de IA</strong>(pÃ³s-processamento).</li>
<li>Os filtros sÃ£o melhores para alteraÃ§Ãµes leves e em tempo real no fluxo de dados.</li>
<li>Com<strong>VÃ¡lvulas</strong>, vocÃª capacita os usuÃ¡rios a configurar os filtros dinamicamente para comportamento personalizado.</li>
</ol>
<hr/>
<p><strong>Sua vez</strong>: Comece a experimentar! Que pequeno ajuste ou adiÃ§Ã£o de contexto poderia elevar sua experiÃªncia aberta na webui? Os filtros sÃ£o divertidos de construir, flexÃ­veis de usar e podem levar seus modelos para o prÃ³ximo nÃ­vel!</p>
<p>CodificaÃ§Ã£o feliz! âœ¨</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a class="theme-edit-this-page" href="https://github.com/open-webui/docs/blob/main/docs/features/plugin/functions/filter.mdx" rel="noopener noreferrer" target="_blank"><svg aria-hidden="true" class="iconEdit_Z9Sw" fill="currentColor" height="20" viewbox="0 0 40 40" width="20"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edite esta pÃ¡gina</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav aria-label="Docs pages" class="pagination-nav docusaurus-mt-lg"><a class="pagination-nav__link pagination-nav__link--prev" href="pipe.html"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">ğŸš° FunÃ§Ã£o do tubo</div></a><a class="pagination-nav__link pagination-nav__link--next" href="action.html"><div class="pagination-nav__sublabel">PrÃ³ximo</div><div class="pagination-nav__label">ğŸ¬ FunÃ§Ã£o de aÃ§Ã£o</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="filter.html#-what-are-filters-in-open-webui">ğŸŒŠ O que sÃ£o filtros em webui aberto?</a></li><li><a class="table-of-contents__link toc-highlight" href="filter.html#ï¸-structure-of-a-filter-function-the-skeleton">ğŸ—ºï¸ Estrutura de uma funÃ§Ã£o de filtro: o esqueleto</a><ul><li><a class="table-of-contents__link toc-highlight" href="filter.html#-basic-skeleton-of-a-filter">ğŸ¦´ Esqueleto bÃ¡sico de um filtro</a></li><li><a class="table-of-contents__link toc-highlight" href="filter.html#--toggle-filter-example-adding-interactivity-and-icons-new-in-open-webui-0610">ğŸ†• ğŸ§² TOGLGL Filtro Exemplo: Adicionando interatividade e Ã­cones (novo no webui aberto 0.6.10)</a></li><li><a class="table-of-contents__link toc-highlight" href="filter.html#-key-components-explained">ğŸ¯ Componentes -chave explicados</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="filter.html#-filters-in-action-building-practical-examples">ğŸŒŸ Filtros em aÃ§Ã£o: Construindo exemplos prÃ¡ticos</a><ul><li><a class="table-of-contents__link toc-highlight" href="filter.html#-example-1-add-context-to-every-user-input">ğŸ“š Exemplo #1: Adicione o contexto a cada entrada do usuÃ¡rio</a></li><li><a class="table-of-contents__link toc-highlight" href="filter.html#-example-2-highlight-outputs-for-easy-reading">ğŸ“š Exemplo #2: SaÃ­das de destaque para fÃ¡cil leitura</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="filter.html#-potential-confusion-clear-faq-">ğŸš§ ConfusÃ£o potencial: Clear FAQ ğŸ›‘</a><ul><li><a class="table-of-contents__link toc-highlight" href="filter.html#q-how-are-filters-different-from-pipe-functions"><strong>P: Como os filtros sÃ£o diferentes das funÃ§Ãµes do tubo?</strong></a></li><li><a class="table-of-contents__link toc-highlight" href="filter.html#q-can-i-do-heavy-post-processing-inside-outlet"><strong>P: Posso fazer um pÃ³s-processamento pesado dentro<code>outlet</code></strong></a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="filter.html#-recap-why-build-filter-functions">ğŸ‰ Resumo: Por que criar funÃ§Ãµes de filtro?</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentos</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="../../../getting-started.html">ComeÃ§ando</a></li><li class="footer__item"><a class="footer__link-item" href="../../../faq.html">Perguntas frequentes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Comunidade</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://doc.nullcore.com.br" rel="noopener noreferrer" target="_blank">Github<svg aria-hidden="true" class="iconExternalLink_nPIU" height="13.5" viewbox="0 0 24 24" width="13.5"><path d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="https://discord.gg/5rJgQTnV4s" rel="noopener noreferrer" target="_blank">DiscÃ³rdia<svg aria-hidden="true" class="iconExternalLink_nPIU" height="13.5" viewbox="0 0 24 24" width="13.5"><path d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="https://x.com/nullcore" rel="noopener noreferrer" target="_blank">ğ•<svg aria-hidden="true" class="iconExternalLink_nPIU" height="13.5" viewbox="0 0 24 24" width="13.5"><path d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z" fill="currentColor"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Mais</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="https://doc.nullcore.com.br/blob/main/CHANGELOG.md" rel="noopener noreferrer" target="_blank">Notas de liberaÃ§Ã£o</a></li><li class="footer__item"><a class="footer__link-item" href="https://doc.nullcore.com.br" rel="noopener noreferrer" target="_blank">Sobre</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" height="100" src="../../../images/logo-dark.png"/><img class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" height="100" src="../../../images/logo-dark.png"/></div></div></div></footer></div>
</body>
</html>