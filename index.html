<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Documentação</title>
<style>
:root{ --bg:#fff; --fg:#171a21; --muted:#667085; --accent:#0a66c2; --soft:#f5f7fb; --line:#e6e8ee; --good:#2e7d32; --warn:#ef6c00; }
@media (prefers-color-scheme: dark){:root{ --bg:#0c0f14; --fg:#e8eef7; --muted:#9fb0c9; --accent:#5ab0ff; --soft:#151a22; --line:#1d2430; }}
html,body{background:var(--bg);color:var(--fg);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica,Arial;}
main{max-width:1150px;margin:0 auto;padding:28px 20px 80px;}
header.hero{padding:14px 0 10px;border-bottom:1px solid var(--line)}
h1{margin:0 0 6px;font-size:clamp(1.6rem,2.6vw,2.3rem)}
h2{margin:28px 0 12px;font-size:clamp(1.25rem,2.2vw,1.6rem)}
h3{margin:18px 0 10px}
.small{color:var(--muted);font-size:.94rem}
.nav{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0 24px}
.nav a{padding:6px 10px;background:var(--soft);border:1px solid var(--line);border-radius:999px;color:inherit;text-decoration:none}
.nav a:hover{text-decoration:underline}
.card{border:1px solid var(--line);background:var(--soft);border-radius:12px;padding:14px;margin:12px 0}
.figure{text-align:center;margin:16px auto}
.figure img{max-width:100%;border:1px solid var(--line);border-radius:12px}
ul.check>li::marker{content:"✔ "; color:var(--good)}
ul.warn>li::marker{content:"• "; color:var(--warn)}
pre,code{background:var(--soft);border:1px solid var(--line);border-radius:10px}
pre{padding:12px;overflow:auto}
.grid{display:grid;gap:16px;grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
.kv{display:grid;grid-template-columns:180px 1fr;gap:10px;align-items:start}
.meta{color:var(--muted);font-size:.9rem}
hr{border:none;border-top:1px solid var(--line);margin:30px 0}
footer{margin-top:50px;color:var(--muted);font-size:.9rem}
</style>
</head>
<body>
<main>
<header class="hero">
  <h1>Documentação Ampliada — Plataforma Unificada de IA (HLF)</h1>
  <nav class="nav small">
    <a href="#executivo">Resumo Executivo</a>
    <a href="#escopo">Escopo & Entregáveis</a>
    <a href="#arquitetura">Arquitetura & Topologia</a>
    <a href="#seguranca">Segurança & SSO</a>
    <a href="#mlops">MLOps & ModelOps</a>
    <a href="#servicos">Serviços de Modelos</a>
    <a href="#rag">RAG</a>
    <a href="#playground">Playground</a>
    <a href="#observabilidade">Observabilidade</a>
    <a href="#dados">Dados & Interoperabilidade</a>
    <a href="#implantacao">Implantação & Ambientes</a>
    <a href="#capacidade">Capacidade & SLA</a>
    <a href="#homologacao">Homologação</a>
    <a href="#conformidade">Conformidade (Mapeamento)</a>
    <a href="#gestao">Gestão Operacional</a>
    <a href="#riscos">Riscos & Mitigações</a>
    <a href="#anexos">Anexos (APIs, Glossário)</a>
  </nav>
</header>

<section id="executivo">
  <h2>1) Resumo Executivo</h2>
  <div class="card">
    <p>A HLF Soluções LTDA apresenta uma <strong>plataforma empacotada</strong> em cima de OSS para desenvolvimento e operação de soluções de IA, totalmente aderente às exigências do SERPRO. A solução é <em>cloud‑native</em>, modular, multi‑tenant e executa em <strong>Red Hat OpenShift</strong>, alinhada às recomendações de referência do <strong>IBM Cloud Pak for Data 4.8</strong>. Foram incorporados mecanismos de SSO (OIDC/SAML/Kerberos), RBAC, criptografia interna e compatibilidade com IPv4/IPv6, NAT e Firewalls, além de observabilidade abrangente e retreinamento por gatilhos.</p>
    <p>Este documento consolida as seções técnicas e administrativas (capacidade inicial/máxima, homologação de amostra, documentação do fabricante, planilha ponto‑a‑ponto, local de entrega, entre outras) e expande detalhes de operação, governança e boas práticas.</p>
  </div>
</section>

<section id="escopo">
  <h2>2) Escopo, Entregáveis e Cronograma</h2>
  <div class="grid">
    <div class="card">
      <h3>Escopo Incluído</h3>
      <ul class="check">
        <li>Plataforma única e integrada, com licenciamento para <em>dev/hml/prod</em>.</li>
        <li>Subscrições de software, implantações e serviços técnicos especializados.</li>
        <li>Integração com Login Único SERPRO e Kerberos <em>cross‑realm</em>.</li>
        <li>Entrega digital de subscrições; execução no ambiente da nuvem privada SERPRO.</li>
      </ul>
    </div>
    <div class="card">
      <h3>Principais Entregáveis</h3>
      <ul>
        <li>Portal e APIs; catálogo de modelos; MLOps/ModelOps; RAG; playground multimodal.</li>
        <li>Observabilidade (métricas, logs, auditoria) e retreinamento automático.</li>
        <li>Documentação do fabricante; <em>planilha ponto‑a‑ponto</em>; relatórios de testes.</li>
        <li>Runbooks, playbooks de SRE e plano de DR/BCP.</li>
      </ul>
    </div>
    <div class="card">
      <h3>Critérios de Aceite</h3>
      <ul>
        <li>Atendimento aos itens do Anexo I e êxito na homologação de amostra.</li>
        <li>Testes de capacidade e desempenho (picos, autoscaling e estabilidade).</li>
        <li>Conformidade com IPv4/IPv6, criptografia interna, NAT/Firewalls e automação.</li>
      </ul>
    </div>
  </div>
</section>

<section id="arquitetura">
  <h2>3) Arquitetura & Topologia (alinhada ao IBM CPD 4.8)</h2>
  <p>Topologia de produção recomendada: cluster OpenShift com <strong>3 nós de controle</strong> e <strong>3+ nós de trabalho</strong>, sujeito a <em>load balancer</em> corporativo externo; controle por <em>operators</em>; <em>control plane</em> leve com catálogo e serviços centrais comuns (jobs, projetos, conexões, busca). Instalações por projeto/namespace permitem multitenancy e expansão modular de serviços.</p>
  <div class="figure"><em>(Diagrama não incluído nesta cópia)</em></div>
  <div class="card">
    <div class="kv">
      <div><strong>Infra</strong></div><div>OpenShift (on‑prem na nuvem privada SERPRO), multi‑AZ, HPA e políticas de <em>request/limit</em>.</div>
      <div><strong>Segurança</strong></div><div>SSO OIDC/SAML, Kerberos, RBAC granular, isolamento por namespaces, segredos e KMS.</div>
      <div><strong>Dados</strong></div><div>MinIO (S3 compatível), PostgreSQL, Elastic; suporte a HDFS, conectores e formatos diversos.</div>
      <div><strong>IA</strong></div><div>Runtimes de LLM e visão/áudio; pipelines de MLOps; RAG orquestrado; playground multimodal.</div>
    </div>
  </div>
</section>

<section id="seguranca">
  <h2>4) Segurança, SSO & Conectividade</h2>
  <ul>
    <li>Login Único SERPRO via OIDC Authorization Code (com PKCE para <em>public client</em>) e SAML 2.0.</li>
    <li>Kerberos <em>cross‑realm</em> com serviço de diretórios; autenticação por credenciais/certificado.</li>
    <li>RBAC por grupos/usuários com controle de acesso a projetos, dados, códigos, modelos e recursos (CPU/GPU).</li>
    <li>Intercomunicação interna criptografada; compatibilidade IPv4 e suporte a IPv6; operação com NAT/Firewalls.</li>
    <li>Auditoria de ações administrativas e timeouts de sessão configuráveis.</li>
  </ul>
</section>

<section id="mlops">
  <h2>5) MLOps & ModelOps</h2>
  <p>Ferramentas: GitLab (CI/CD), DVC (datasets), MLflow (experimentos e registro), Airflow/Kubeflow (pipelines). Integração com IDEs (ex.: VS Code) e conectividade com dados estruturados, semi-estruturados e não estruturados (PDF, DOC/DOCX, ODF, imagens, vídeos, áudios, S3, HDFS, bases relacionais, NoSQL, vetoriais).</p>
  <div class="grid">
    <div class="card"><h3>Ciclo</h3><ul>
      <li>Ingestão e curadoria de dados; versionamento de datasets e código.</li>
      <li>Treino/Validação; Benchmark (GLUE, SuperGLUE, HELM) e métricas de RAG.</li>
      <li>Empacotamento (ONNX, safetensors, pb, pkl, h5, pmml, PyTorch/TensorFlow/MLLib).</li>
      <li>Registro e promoção; <em>canary</em>/<em>blue‑green</em>; auditoria e <em>lineage</em>.</li>
    </ul></div>
    <div class="card"><h3>Pipelines</h3><pre><code>steps:
  - extract: s3://datasets/
  - prepare: cleaning, chunking
  - embed: embedding_model=ptbr-large; store=qdrant://colecao
  - train: framework=transformers; epochs=2; gpu=1
  - eval: glue, superglue, helm; rag_metrics=[precision@10, mrr]
  - package: format=onnx
  - publish: env=homolog; autoscale=cpu:75%, gpu:80%</code></pre></div>
  </div>
</section>

<section id="servicos">
  <h2>6) Serviço de Modelos</h2>
  <p>Publicação de endpoints com versionamento, limites de taxa e políticas de segurança. Execução em CPU/GPU; compatível com Hadoop/Spark para treino e inferência distribuídos.</p>
  <pre><code>POST /api/modelos/&lt;nome&gt;/inferir
{"inputs":"Classifique este texto","parameters":{"temperature":0.2,"max_tokens":256}}</code></pre>
</section>

<section id="rag">
  <h2>7) RAG</h2>
  <p>Orquestrado por LangChain/LlamaIndex com busca híbrida (BM25+denso), filtros, reranking e coleções com ACL. Vetorização em Qdrant/Milvus/Weaviate; ingestão a partir de S3/HDFS/pastas/sites/BDs; auditoria de consultas e explicabilidade.</p>
</section>

<section id="playground">
  <h2>8) Playground Multimodal</h2>
  <p>Ambiente para texto/chat/imagem/áudio com salvamento de sessões, <em>prompt templates</em>, anotações e avaliação subjetiva dos outputs (star rating, comentários).</p>
</section>

<section id="observabilidade">
  <h2>9) Observabilidade & Retreinamento</h2>
  <ul>
    <li>Métricas técnicas (latência P50/P95/P99, throughput, taxa de erro) e de qualidade (métricas RAG/benchmark).</li>
    <li>Dashboards (Grafana), logs/auditoria (ELK), alertas (Alertmanager/Prometheus).</li>
    <li>Retreinamento por gatilhos (drift, degradação, janela temporal/volume).</li>
  </ul>
</section>

<section id="dados">
  <h2>10) Dados & Interoperabilidade</h2>
  <ul>
    <li>Exportação/importação em formatos interoperáveis (onnx, safetensors, pb, pkl, h5, pmml, PyTorch, TensorFlow, MLLib).</li>
    <li>Conectores a dados estruturados/semi‑estruturados/não estruturados; compatível com S3, Ceph, HDFS, bases relacionais, NoSQL e vetoriais.</li>
    <li>Suporte a Hadoop e Spark em treino e inferência.</li>
  </ul>
</section>

<section id="implantacao">
  <h2>11) Implantação & Ambientes</h2>
  <ul class="check">
    <li>Instalação <strong>multi‑tenant</strong> com isolamento de aplicações, dados e modelos entre ambientes.</li>
    <li>Implantação integral na <strong>nuvem privada do SERPRO</strong>; licenças ausentes serão fornecidas com suporte e atualização.</li>
    <li>Conformidade CNCF (contêineres, microsserviços, multi‑tenancy, infraestrutura imutável), assegurando HA, failover, autoscaling e balanceamento.</li>
    <li>Topologia com <strong>zonas de disponibilidade</strong> redundantes; ambientes <em>dev/hml/prod</em>.</li>
    <li>Sem dependência de hardware específico; requisitos especiais avaliados previamente.</li>
    <li>Automação compatível com a nuvem SERPRO; versão atual; código documentado, versionado e entregue.</li>
  </ul>
</section>

<section id="capacidade">
  <h2>12) Capacidade, Desempenho & SLA</h2>
  <div class="grid">
    <div class="card"><h3>Capacidade Inicial</h3>
      <p>Suportar <strong>5 sessões concorrentes ativas</strong> em Dev/Homolog (desenvolvimento de modelos).</p></div>
    <div class="card"><h3>Capacidade Máxima</h3>
      <p>Ambiente de produção suportando consumo conforme requisitos, com testes de carga e autoscaling.</p></div>
  </div>
  <ul>
    <li><strong>SLA/SLO</strong>: disponibilidade mensal, P95 de resposta, taxa de erro, MTTR.</li>
    <li><strong>Teste</strong>: picos, endurance, caos/DR, validação funcional (SSO, RBAC, RAG, playground, export/import).</li>
  </ul>
</section>

<section id="homologacao">
  <h2>13) Homologação de Amostra & Documentação do Fabricante</h2>
  <ul>
    <li>Homologação presencial abrangendo <strong>todos os itens</strong> da especificação técnica.</li>
    <li>Documentação oficial do fabricante acompanhando a Proposta Comercial; não são aceitos folhetos/folders adaptados.</li>
    <li><em>Planilha ponto‑a‑ponto</em> indicando, para cada item, a localização exata da comprovação na documentação.</li>
    <li>Recebimento definitivo vinculado à comprovação de autenticidade e quantitativos das subscrições.</li>
  </ul>
</section>

<section id="gestao">
  <h2>14) Gestão Operacional, Qualidade & Mudanças</h2>
  <div class="grid">
    <div class="card"><h3>Operação (SRE)</h3><ul>
      <li>Runbooks e playbooks; rotinas de saúde, <em>rollouts</em>/<em>rollbacks</em>, janelas de mudança.</li>
      <li>Backups e retenção; testes de restauração; postura Zero Trust na malha de serviços.</li>
    </ul></div>
    <div class="card"><h3>Qualidade</h3><ul>
      <li>Benchmarks (GLUE/SuperGLUE/HELM) e métricas RAG; testes automatizados de regressão.</li>
      <li>A/B testing, canary e <em>feature flags</em> para validação contínua.</li>
    </ul></div>
    <div class="card"><h3>Mudanças</h3><ul>
      <li>CI/CD com aprovação; versionamento de infra como código; política de TAGs e Changelog.</li>
      <li>Gestão de vulnerabilidades e correções (CVE), varreduras de imagens e dependências.</li>
    </ul></div>
  </div>
</section>

<section id="riscos">
  <h2>15) Riscos & Mitigações</h2>
  <ul>
    <li><strong>Capacidade subdimensionada</strong>: mitigação com <em>autoscaling</em>, observabilidade e testes de estresse.</li>
    <li><strong>Integração SSO/Kerberos</strong>: ensaio em <em>homolog</em>, <em>fallback</em> e ajustes de mapeamento de grupos.</li>
    <li><strong>Dados sensíveis</strong>: criptografia e segregação por projeto; revisões de ACLs; auditoria.</li>
    <li><strong>Dependências OSS</strong>: mirror privado de imagens; pin de versões; política de segurança.</li>
  </ul>
</section>

<section id="anexos">
  <h2>16) Anexos</h2>
  <div class="grid">
    <div class="card"><h3>APIs (alto nível)</h3><pre><code>POST /api/auth/token
GET  /api/auth/me
GET  /api/modelos
POST /api/modelos/publicar
POST /api/modelos/&lt;nome&gt;/inferir
POST /api/rag/ingestao
POST /api/rag/consultar
GET  /api/monitoramento/metrics
GET  /api/auditoria/eventos</code></pre></div>
    <div class="card"><h3>Glossário</h3><ul>
      <li><strong>RAG</strong>: combinação de recuperação e geração para respostas fundamentadas.</li>
      <li><strong>RBAC</strong>: controle de acesso baseado em papéis.</li>
      <li><strong>Namespace</strong>: partição lógica no Kubernetes para isolamento de recursos.</li>
    </ul></div>
  </div>
</section>

<hr>
<footer>© 2025 HLF Soluções LTDA — Documento interno • Versão 2.0 (ampliada)</footer>
</main>
</body>
</html>
